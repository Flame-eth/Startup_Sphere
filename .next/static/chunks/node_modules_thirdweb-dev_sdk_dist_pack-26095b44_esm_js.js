"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_thirdweb-dev_sdk_dist_pack-26095b44_esm_js"],{

/***/ "./node_modules/@thirdweb-dev/sdk/dist/pack-26095b44.esm.js":
/*!******************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/sdk/dist/pack-26095b44.esm.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Pack\": function() { return /* binding */ Pack; }\n/* harmony export */ });\n/* harmony import */ var _QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./QueryParams-da88d27c.esm.js */ \"./node_modules/@thirdweb-dev/sdk/dist/QueryParams-da88d27c.esm.js\");\n/* harmony import */ var _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./thirdweb-checkout-2c8d478b.esm.js */ \"./node_modules/@thirdweb-dev/sdk/dist/thirdweb-checkout-2c8d478b.esm.js\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_ERC20_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/ERC20.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/ERC20.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IPackVRFDirect_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IPackVRFDirect.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IPackVRFDirect.json\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! zod */ \"./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var bn_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bn.js */ \"./node_modules/@thirdweb-dev/sdk/node_modules/bn.js/lib/bn.js\");\n/* harmony import */ var bn_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bn_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IERC165_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IERC165.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IERC165.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IERC721_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IERC721.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IERC721.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IERC1155_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IERC1155.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IERC1155.json\");\n/* harmony import */ var tiny_invariant__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tiny-invariant */ \"./node_modules/tiny-invariant/dist/esm/tiny-invariant.js\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IBurnableERC20_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IBurnableERC20.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IBurnableERC20.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDrop_json__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDrop.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDrop.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDropERC20_V2_json__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDropERC20_V2.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDropERC20_V2.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDropSinglePhase_json__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDropSinglePhase_V1_json__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase_V1.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase_V1.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IERC20_json__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IERC20.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IERC20.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IMintableERC20_json__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IMintableERC20.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IMintableERC20.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IMulticall_json__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IMulticall.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IMulticall.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_ISignatureMintERC20_json__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC20.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC20.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IBurnableERC721_json__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IBurnableERC721.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IBurnableERC721.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IClaimableERC721_json__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IClaimableERC721.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IClaimableERC721.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDelayedReveal_json__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDelayedReveal.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDelayedReveal.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDropERC721_V3_json__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDropERC721_V3.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDropERC721_V3.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IERC721Enumerable_json__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IERC721Enumerable.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IERC721Enumerable.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IERC721Supply_json__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IERC721Supply.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IERC721Supply.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_ILazyMint_json__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/ILazyMint.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/ILazyMint.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IMintableERC721_json__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IMintableERC721.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IMintableERC721.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_ISignatureMintERC721_json__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC721.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC721.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_ISignatureMintERC721_V1_json__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC721_V1.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC721_V1.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_LazyMintWithTier_json__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/LazyMintWithTier.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/LazyMintWithTier.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IBurnableERC1155_json__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IBurnableERC1155.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IBurnableERC1155.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IClaimableERC1155_json__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IClaimableERC1155.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IClaimableERC1155.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDrop1155_json__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDrop1155.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDrop1155.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDropERC1155_V2_json__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDropERC1155_V2.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDropERC1155_V2.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDropSinglePhase1155_json__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase1155.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase1155.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDropSinglePhase1155_V1_json__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase1155_V1.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDropSinglePhase1155_V1.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IERC1155Enumerable_json__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IERC1155Enumerable.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IERC1155Enumerable.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IMintableERC1155_json__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IMintableERC1155.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IMintableERC1155.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_ISignatureMintERC1155_json__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC1155.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/ISignatureMintERC1155.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_ERC2771Context_json__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/ERC2771Context.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/ERC2771Context.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IAppURI_json__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IAppURI.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IAppURI.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IContractMetadata_json__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IContractMetadata.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IContractMetadata.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDirectListings_json__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDirectListings.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDirectListings.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IEnglishAuctions_json__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IEnglishAuctions.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IEnglishAuctions.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IOffers_json__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IOffers.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IOffers.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IPermissions_json__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IPermissions.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IPermissions.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IPermissionsEnumerable_json__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IPermissionsEnumerable.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IPermissionsEnumerable.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IPlatformFee_json__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IPlatformFee.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IPlatformFee.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IPrimarySale_json__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IPrimarySale.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IPrimarySale.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IRouter_json__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IRouter.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IRouter.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IRoyalty_json__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IRoyalty.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IRoyalty.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_Ownable_json__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/Ownable.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/Ownable.json\");\n/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! cross-fetch */ \"./node_modules/cross-fetch/dist/browser-ponyfill.js\");\n/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_49___default = /*#__PURE__*/__webpack_require__.n(cross_fetch__WEBPACK_IMPORTED_MODULE_49__);\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/@thirdweb-dev/sdk/node_modules/eventemitter3/index.mjs\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_Forwarder_json__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/Forwarder.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/Forwarder.json\");\n/* harmony import */ var _thirdweb_dev_storage__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! @thirdweb-dev/storage */ \"./node_modules/@thirdweb-dev/storage/dist/thirdweb-dev-storage.esm.js\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_Router_json__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/Router.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/Router.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IThirdwebContract_json__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IThirdwebContract.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IThirdwebContract.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IERC20Metadata_json__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IERC20Metadata.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IERC20Metadata.json\");\n/* harmony import */ var merkletreejs__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! merkletreejs */ \"./node_modules/merkletreejs/dist/index.js\");\n/* harmony import */ var merkletreejs__WEBPACK_IMPORTED_MODULE_56___default = /*#__PURE__*/__webpack_require__.n(merkletreejs__WEBPACK_IMPORTED_MODULE_56__);\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! fast-deep-equal */ \"./node_modules/fast-deep-equal/index.js\");\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_57___default = /*#__PURE__*/__webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_57__);\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IERC721Metadata_json__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IERC721Metadata.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IERC721Metadata.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IERC1155Metadata_json__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IERC1155Metadata.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IERC1155Metadata.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_IDelayedRevealDeprecated_json__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/IDelayedRevealDeprecated.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/IDelayedRevealDeprecated.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_ContractPublisher_json__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/ContractPublisher.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/ContractPublisher.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_TWMultichainRegistryLogic_json__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/TWMultichainRegistryLogic.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/TWMultichainRegistryLogic.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_TWMultichainRegistryRouter_json__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/TWMultichainRegistryRouter.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/TWMultichainRegistryRouter.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_TWFactory_json__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/TWFactory.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/TWFactory.json\");\n/* harmony import */ var _thirdweb_dev_contracts_js_dist_abis_TWRegistry_json__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! @thirdweb-dev/contracts-js/dist/abis/TWRegistry.json */ \"./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/TWRegistry.json\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! bs58 */ \"./node_modules/@thirdweb-dev/sdk/node_modules/bs58/index.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_66___default = /*#__PURE__*/__webpack_require__.n(bs58__WEBPACK_IMPORTED_MODULE_66__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @internal\n */\nconst CommonWrappableSchema = zod__WEBPACK_IMPORTED_MODULE_67__.z.object({\n  contractAddress: _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.af\n});\n\n/**\n * @internal\n */\nconst ERC20WrappableSchema = CommonWrappableSchema.extend({\n  quantity: _QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__.A\n});\n\n/**\n * @internal\n */\nconst ERC721WrappableSchema = CommonWrappableSchema.extend({\n  tokenId: _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ad\n});\n\n/**\n * @internal\n */\nconst ERC1155WrappableSchema = CommonWrappableSchema.extend({\n  tokenId: _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ad,\n  quantity: _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ad\n});\n\n/**\n * @internal\n */\nconst ERC20RewardSchema = ERC20WrappableSchema.omit({\n  quantity: true\n}).extend({\n  quantityPerReward: _QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__.A\n});\n\n/**\n * @internal\n */\nconst ERC721RewardSchema = ERC721WrappableSchema;\n\n/**\n * @internal\n */\nconst ERC1155RewardSchema = ERC1155WrappableSchema.omit({\n  quantity: true\n}).extend({\n  quantityPerReward: _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ad\n});\n\n/**\n * @internal\n */\nconst ERC20RewardContentsSchema = ERC20RewardSchema.extend({\n  totalRewards: _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ad[\"default\"](\"1\")\n});\n\n/**\n * @internal\n */\nconst ERC721RewardContentsSchema = ERC721RewardSchema;\n\n/**\n * @internal\n */\nconst ERC1155RewardContentsSchema = ERC1155RewardSchema.extend({\n  totalRewards: _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ad[\"default\"](\"1\")\n});\n\n/**\n * @internal\n */\nzod__WEBPACK_IMPORTED_MODULE_67__.z.object({\n  erc20Rewards: zod__WEBPACK_IMPORTED_MODULE_67__.z.array(ERC20RewardSchema).default([]),\n  erc721Rewards: zod__WEBPACK_IMPORTED_MODULE_67__.z.array(ERC721RewardSchema).default([]),\n  erc1155Rewards: zod__WEBPACK_IMPORTED_MODULE_67__.z.array(ERC1155RewardSchema).default([])\n});\n\n/**\n * @internal\n */\nconst PackRewardsOutputSchema = zod__WEBPACK_IMPORTED_MODULE_67__.z.object({\n  erc20Rewards: zod__WEBPACK_IMPORTED_MODULE_67__.z.array(ERC20RewardContentsSchema).default([]),\n  erc721Rewards: zod__WEBPACK_IMPORTED_MODULE_67__.z.array(ERC721RewardContentsSchema).default([]),\n  erc1155Rewards: zod__WEBPACK_IMPORTED_MODULE_67__.z.array(ERC1155RewardContentsSchema).default([])\n});\n\n/**\n * @internal\n */\nconst PackMetadataInputSchema = PackRewardsOutputSchema.extend({\n  packMetadata: _QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__.N,\n  rewardsPerPack: _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ad[\"default\"](\"1\"),\n  openStartTime: _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ag[\"default\"](new Date())\n});\n\n/**\n * @public\n */\n\nclass PackVRF {\n  constructor(network, address, storage, options, chainId) {\n    let contractWrapper = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.cM(network, address, _thirdweb_dev_contracts_js_dist_abis_IPackVRFDirect_json__WEBPACK_IMPORTED_MODULE_1__, options);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"featureName\", _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.d5.name);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"contractWrapper\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"storage\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"chainId\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"events\", void 0);\n    this.contractWrapper = contractWrapper;\n    this.storage = storage;\n    this.chainId = chainId;\n    this.events = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.aX(this.contractWrapper);\n  }\n  onNetworkUpdated(network) {\n    this.contractWrapper.updateSignerOrProvider(network);\n  }\n  getAddress() {\n    return this.contractWrapper.readContract.address;\n  }\n\n  /**\n   * Open a pack using Chainlink VRFs random number generation\n   * This will return a transaction result with the requestId of the open request, NOT the contents of the pack\n   * To get the contents of the pack, you must call claimRewards once the VRF request has been fulfilled\n   * You can use the canClaimRewards method to check if the VRF request has been fulfilled\n   * @param tokenId\n   * @param amount\n   * @returns\n   */\n  async open(tokenId) {\n    let amount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    const receipt = await this.contractWrapper.sendTransaction(\"openPack\", [tokenId, amount], {\n      // Higher gas limit for opening packs\n      gasLimit: 500000\n    });\n    let id = ethers__WEBPACK_IMPORTED_MODULE_70__.BigNumber.from(0);\n    try {\n      const event = this.contractWrapper.parseLogs(\"PackOpenRequested\", receipt?.logs);\n      id = event[0].args.requestId;\n    } catch (e) {}\n    return {\n      receipt,\n      id\n    };\n  }\n\n  /**\n   * Claim the rewards from a pack that has been opened\n   * This will return the contents of the pack\n   * Make sure to check if the VRF request has been fulfilled using canClaimRewards() before calling this method\n   * @returns the random rewards from opening a pack\n   */\n  async claimRewards() {\n    const receipt = await this.contractWrapper.sendTransaction(\"claimRewards\", [], {\n      // Higher gas limit for opening packs\n      gasLimit: 500000\n    });\n    const event = this.contractWrapper.parseLogs(\"PackOpened\", receipt?.logs);\n    if (event.length === 0) {\n      throw new Error(\"PackOpened event not found\");\n    }\n    const rewards = event[0].args.rewardUnitsDistributed;\n    return this.parseRewards(rewards);\n  }\n  async parseRewards(rewards) {\n    const erc20Rewards = [];\n    const erc721Rewards = [];\n    const erc1155Rewards = [];\n    for (const reward of rewards) {\n      switch (reward.tokenType) {\n        case 0:\n          {\n            const tokenMetadata = await (0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.b9)(this.contractWrapper.getProvider(), reward.assetContract);\n            erc20Rewards.push({\n              contractAddress: reward.assetContract,\n              quantityPerReward: ethers__WEBPACK_IMPORTED_MODULE_70__.ethers.utils.formatUnits(reward.totalAmount, tokenMetadata.decimals).toString()\n            });\n            break;\n          }\n        case 1:\n          {\n            erc721Rewards.push({\n              contractAddress: reward.assetContract,\n              tokenId: reward.tokenId.toString()\n            });\n            break;\n          }\n        case 2:\n          {\n            erc1155Rewards.push({\n              contractAddress: reward.assetContract,\n              tokenId: reward.tokenId.toString(),\n              quantityPerReward: reward.totalAmount.toString()\n            });\n            break;\n          }\n      }\n    }\n    return {\n      erc20Rewards,\n      erc721Rewards,\n      erc1155Rewards\n    };\n  }\n\n  /**\n   * Setup a listener that will be called everytime a pack is opened in this contract\n   * @param callback the listener to call when a pack is opened\n   * @returns a unsubscribe function to cleanup the listener\n   */\n  async addPackOpenEventListener(callback) {\n    return this.events.addEventListener(\"PackOpened\", async event => {\n      callback(event.data.packId.toString(), event.data.opener, await this.parseRewards(event.data.rewardUnitsDistributed));\n    });\n  }\n\n  /**\n   * Check if the connected address can claim rewards after opening a pack\n   * @param claimerAddress Optional: the address to check if they can claim rewards, defaults to the connected address\n   * @returns whether the connected address can claim rewards after opening a pack\n   */\n  async canClaimRewards(claimerAddress) {\n    const address = claimerAddress || (await this.contractWrapper.getSignerAddress());\n    return await this.contractWrapper.readContract.canClaimRewards(address);\n  }\n\n  /**\n   * Open a pack and claim the rewards in one transaction.\n   * This function will only start the flow of opening a pack, the rewards will be granted automatically to the connected address after VRF request is fulfilled\n   * @param packId The id of the pack to open\n   * @param amount Optional: the amount of packs to open, defaults to 1\n   * @param gasLimit Optional: the gas limit to use for the VRF callback transaction, defaults to 500000\n   * @returns\n   */\n  async openAndClaim(packId) {\n    let amount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    let gasLimit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 500000;\n    const receipt = await this.contractWrapper.sendTransaction(\"openPackAndClaimRewards\", [packId, amount, gasLimit], {\n      // Higher gas limit for opening packs\n      gasLimit: ethers__WEBPACK_IMPORTED_MODULE_70__.BigNumber.from(500000)\n    });\n    let id = ethers__WEBPACK_IMPORTED_MODULE_70__.BigNumber.from(0);\n    try {\n      const event = this.contractWrapper.parseLogs(\"PackOpenRequested\", receipt?.logs);\n      id = event[0].args.requestId;\n    } catch (e) {}\n    return {\n      receipt,\n      id\n    };\n  }\n\n  /**\n   * Get the balance of LINK in the contract\n   * @returns the balance of LINK in the contract\n   */\n  async getLinkBalance() {\n    return this.getLinkContract().balanceOf(this.contractWrapper.readContract.address);\n  }\n\n  /**\n   * Transfer LINK to this contract\n   * @param amount the amount of LINK to transfer to the contract\n   */\n  async transferLink(amount) {\n    await this.getLinkContract().transfer(this.contractWrapper.readContract.address, amount);\n  }\n  getLinkContract() {\n    const linkAddress = _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ch[this.chainId];\n    if (!linkAddress) {\n      throw new Error(`No LINK token address found for chainId ${this.chainId}`);\n    }\n    const contract = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.cM(this.contractWrapper.getSignerOrProvider(), linkAddress, _thirdweb_dev_contracts_js_dist_abis_ERC20_json__WEBPACK_IMPORTED_MODULE_0__, this.contractWrapper.options);\n    return new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.au(contract, this.storage, this.chainId);\n  }\n}\n\n/**\n * Create lootboxes of NFTs with rarity based open mechanics.\n *\n * @example\n *\n * ```javascript\n * import { ThirdwebSDK } from \"@thirdweb-dev/sdk\";\n *\n * const sdk = new ThirdwebSDK(\"{{chainName}}\");\n * const contract = await sdk.getContract(\"{{contract_address}}\", \"pack\");\n * ```\n *\n * @public\n */\nclass Pack extends _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.aS {\n  /**\n   * Configure royalties\n   * @remarks Set your own royalties for the entire contract or per pack\n   * @example\n   * ```javascript\n   * // royalties on the whole contract\n   * contract.royalties.setDefaultRoyaltyInfo({\n   *   seller_fee_basis_points: 100, // 1%\n   *   fee_recipient: \"0x...\"\n   * });\n   * // override royalty for a particular pack\n   * contract.royalties.setTokenRoyaltyInfo(packId, {\n   *   seller_fee_basis_points: 500, // 5%\n   *   fee_recipient: \"0x...\"\n   * });\n   * ```\n   */\n\n  /**\n   * @internal\n   */\n\n  /**\n   * If enabled in the contract, use the Chainlink VRF functionality to open packs\n   */\n  get vrf() {\n    return (0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.bZ)(this._vrf, _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.d5);\n  }\n  constructor(network, address, storage) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    let abi = arguments.length > 4 ? arguments[4] : undefined;\n    let chainId = arguments.length > 5 ? arguments[5] : undefined;\n    let contractWrapper = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.cM(network, address, abi, options.gasless && \"openzeppelin\" in options.gasless ? {\n      ...options,\n      gasless: {\n        openzeppelin: {\n          ...options.gasless.openzeppelin,\n          useEOAForwarder: true\n        }\n      }\n    } : options);\n    super(contractWrapper, storage, chainId);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"abi\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"metadata\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"roles\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"encoder\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"events\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"estimator\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"royalties\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"interceptor\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"erc1155\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"owner\", void 0);\n    (0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(this, \"_vrf\", void 0);\n    this.abi = abi;\n    this.erc1155 = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.aL(this.contractWrapper, this.storage, chainId);\n    this.metadata = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.am(this.contractWrapper, _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.d6, this.storage);\n    this.roles = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.an(this.contractWrapper, Pack.contractRoles);\n    this.royalties = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ao(this.contractWrapper, this.metadata);\n    this.encoder = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.al(this.contractWrapper);\n    this.estimator = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.aW(this.contractWrapper);\n    this.events = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.aX(this.contractWrapper);\n    this.interceptor = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.aY(this.contractWrapper);\n    this.owner = new _thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.a$(this.contractWrapper);\n    this._vrf = this.detectVrf();\n  }\n\n  /**\n   * @internal\n   */\n  onNetworkUpdated(network) {\n    this.contractWrapper.updateSignerOrProvider(network);\n    this._vrf?.onNetworkUpdated(network);\n  }\n  getAddress() {\n    return this.contractWrapper.readContract.address;\n  }\n\n  /** ******************************\n   * READ FUNCTIONS\n   *******************************/\n\n  /**\n   * Get a single Pack\n   *\n   * @remarks Get all the data associated with every pack in this contract.\n   *\n   * By default, returns the first 100 packs, use queryParams to fetch more.\n   *\n   * @example\n   * ```javascript\n   * const pack = await contract.get(0);\n   * console.log(packs;\n   * ```\n   */\n  async get(tokenId) {\n    return this.erc1155.get(tokenId);\n  }\n\n  /**\n   * Get All Packs\n   *\n   * @remarks Get all the data associated with every pack in this contract.\n   *\n   * By default, returns the first 100 packs, use queryParams to fetch more.\n   *\n   * @example\n   * ```javascript\n   * const packs = await contract.getAll();\n   * console.log(packs;\n   * ```\n   * @param queryParams - optional filtering to only fetch a subset of results.\n   * @returns The pack metadata for all packs queried.\n   */\n  async getAll(queryParams) {\n    return this.erc1155.getAll(queryParams);\n  }\n\n  /**\n   * Get Owned Packs\n   *\n   * @remarks Get all the data associated with the packs owned by a specific wallet.\n   *\n   * @example\n   * ```javascript\n   * // Address of the wallet to get the packs of\n   * const address = \"{{wallet_address}}\";\n   * const packss = await contract.getOwned(address);\n   * ```\n   *\n   * @returns The pack metadata for all the owned packs in the contract.\n   */\n  async getOwned(walletAddress) {\n    return this.erc1155.getOwned(walletAddress);\n  }\n\n  /**\n   * Get the number of packs created\n   * @returns the total number of packs minted in this contract\n   * @public\n   */\n  async getTotalCount() {\n    return this.erc1155.totalCount();\n  }\n\n  /**\n   * Get whether users can transfer packs from this contract\n   */\n  async isTransferRestricted() {\n    const anyoneCanTransfer = await this.contractWrapper.readContract.hasRole((0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.bC)(\"transfer\"), ethers__WEBPACK_IMPORTED_MODULE_70__.ethers.constants.AddressZero);\n    return !anyoneCanTransfer;\n  }\n\n  /**\n   * Get Pack Contents\n   * @remarks Get the rewards contained inside a pack.\n   *\n   * @param packId - The id of the pack to get the contents of.\n   * @returns - The contents of the pack.\n   *\n   * @example\n   * ```javascript\n   * const packId = 0;\n   * const contents = await contract.getPackContents(packId);\n   * console.log(contents.erc20Rewards);\n   * console.log(contents.erc721Rewards);\n   * console.log(contents.erc1155Rewards);\n   * ```\n   */\n  async getPackContents(packId) {\n    const {\n      contents,\n      perUnitAmounts\n    } = await this.contractWrapper.readContract.getPackContents(packId);\n    const erc20Rewards = [];\n    const erc721Rewards = [];\n    const erc1155Rewards = [];\n    for (let i = 0; i < contents.length; i++) {\n      const reward = contents[i];\n      const amount = perUnitAmounts[i];\n      switch (reward.tokenType) {\n        case 0:\n          {\n            const tokenMetadata = await (0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.b9)(this.contractWrapper.getProvider(), reward.assetContract);\n            const rewardAmount = ethers__WEBPACK_IMPORTED_MODULE_70__.ethers.utils.formatUnits(reward.totalAmount, tokenMetadata.decimals);\n            erc20Rewards.push({\n              contractAddress: reward.assetContract,\n              quantityPerReward: amount.toString(),\n              totalRewards: ethers__WEBPACK_IMPORTED_MODULE_70__.BigNumber.from(rewardAmount).div(amount).toString()\n            });\n            break;\n          }\n        case 1:\n          {\n            erc721Rewards.push({\n              contractAddress: reward.assetContract,\n              tokenId: reward.tokenId.toString()\n            });\n            break;\n          }\n        case 2:\n          {\n            erc1155Rewards.push({\n              contractAddress: reward.assetContract,\n              tokenId: reward.tokenId.toString(),\n              quantityPerReward: amount.toString(),\n              totalRewards: ethers__WEBPACK_IMPORTED_MODULE_70__.BigNumber.from(reward.totalAmount).div(amount).toString()\n            });\n            break;\n          }\n      }\n    }\n    return {\n      erc20Rewards,\n      erc721Rewards,\n      erc1155Rewards\n    };\n  }\n\n  /** ******************************\n   * WRITE FUNCTIONS\n   *******************************/\n\n  /**\n   * Create Pack\n   * @remarks Create a new pack with the given metadata and rewards and mint it to the connected wallet.\n   * @remarks See {@link Pack.createTo}\n   *\n   * @param metadataWithRewards - the metadata and rewards to include in the pack\n   * @example\n   * ```javascript\n   * const pack = {\n   *   // The metadata for the pack NFT itself\n   *   packMetadata: {\n   *     name: \"My Pack\",\n   *     description: \"This is a new pack\",\n   *     image: \"ipfs://...\",\n   *   },\n   *   // ERC20 rewards to be included in the pack\n   *   erc20Rewards: [\n   *     {\n   *       assetContract: \"0x...\",\n   *       quantityPerReward: 5,\n   *       quantity: 100,\n   *       totalRewards: 20,\n   *     }\n   *   ],\n   *   // ERC721 rewards to be included in the pack\n   *   erc721Rewards: [\n   *     {\n   *       assetContract: \"0x...\",\n   *       tokenId: 0,\n   *     }\n   *   ],\n   *   // ERC1155 rewards to be included in the pack\n   *   erc1155Rewards: [\n   *     {\n   *       assetContract: \"0x...\",\n   *       tokenId: 0,\n   *       quantityPerReward: 1,\n   *       totalRewards: 100,\n   *     }\n   *   ],\n   *   openStartTime: new Date(), // the date that packs can start to be opened, defaults to now\n   *   rewardsPerPack: 1, // the number of rewards in each pack, defaults to 1\n   * }\n   *\n   * const tx = await contract.create(pack);\n   * ```\n   */\n  async create(metadataWithRewards) {\n    const signerAddress = await this.contractWrapper.getSignerAddress();\n    return this.createTo(signerAddress, metadataWithRewards);\n  }\n\n  /**\n   * Add Pack Contents\n   * @remarks Add contents to an existing pack.\n   * @remarks See {@link Pack.addPackContents}\n   *\n   * @param packId - token Id of the pack to add contents to\n   * @param packContents - the rewards to include in the pack\n   * @example\n   * ```javascript\n   * const packContents = {\n   *   // ERC20 rewards to be included in the pack\n   *   erc20Rewards: [\n   *     {\n   *       assetContract: \"0x...\",\n   *       quantityPerReward: 5,\n   *       quantity: 100,\n   *       totalRewards: 20,\n   *     }\n   *   ],\n   *   // ERC721 rewards to be included in the pack\n   *   erc721Rewards: [\n   *     {\n   *       assetContract: \"0x...\",\n   *       tokenId: 0,\n   *     }\n   *   ],\n   *   // ERC1155 rewards to be included in the pack\n   *   erc1155Rewards: [\n   *     {\n   *       assetContract: \"0x...\",\n   *       tokenId: 0,\n   *       quantityPerReward: 1,\n   *       totalRewards: 100,\n   *     }\n   *   ],\n   * }\n   *\n   * const tx = await contract.addPackContents(packId, packContents);\n   * ```\n   */\n  async addPackContents(packId, packContents) {\n    const signerAddress = await this.contractWrapper.getSignerAddress();\n    const parsedContents = PackRewardsOutputSchema.parse(packContents);\n    const {\n      contents,\n      numOfRewardUnits\n    } = await this.toPackContentArgs(parsedContents);\n    const receipt = await this.contractWrapper.sendTransaction(\"addPackContents\", [packId, contents, numOfRewardUnits, signerAddress]);\n    const event = this.contractWrapper.parseLogs(\"PackUpdated\", receipt?.logs);\n    if (event.length === 0) {\n      throw new Error(\"PackUpdated event not found\");\n    }\n    const id = event[0].args.packId;\n    return {\n      id: id,\n      receipt,\n      data: () => this.erc1155.get(id)\n    };\n  }\n\n  /**\n   * Create Pack To Wallet\n   * @remarks Create a new pack with the given metadata and rewards and mint it to the specified address.\n   *\n   * @param to - the address to mint the pack to\n   * @param metadataWithRewards - the metadata and rewards to include in the pack\n   *\n   * @example\n   * ```javascript\n   * const pack = {\n   *   // The metadata for the pack NFT itself\n   *   packMetadata: {\n   *     name: \"My Pack\",\n   *     description: \"This is a new pack\",\n   *     image: \"ipfs://...\",\n   *   },\n   *   // ERC20 rewards to be included in the pack\n   *   erc20Rewards: [\n   *     {\n   *       assetContract: \"0x...\",\n   *       quantityPerReward: 5,\n   *       quantity: 100,\n   *       totalRewards: 20,\n   *     }\n   *   ],\n   *   // ERC721 rewards to be included in the pack\n   *   erc721Rewards: [\n   *     {\n   *       assetContract: \"0x...\",\n   *       tokenId: 0,\n   *     }\n   *   ],\n   *   // ERC1155 rewards to be included in the pack\n   *   erc1155Rewards: [\n   *     {\n   *       assetContract: \"0x...\",\n   *       tokenId: 0,\n   *       quantityPerReward: 1,\n   *       totalRewards: 100,\n   *     }\n   *   ],\n   *   openStartTime: new Date(), // the date that packs can start to be opened, defaults to now\n   *   rewardsPerPack: 1, // the number of rewards in each pack, defaults to 1\n   * }\n   *\n   * const tx = await contract.createTo(\"0x...\", pack);\n   * ```\n   */\n  async createTo(to, metadataWithRewards) {\n    const uri = await (0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.d0)(metadataWithRewards.packMetadata, this.storage);\n    const parsedMetadata = PackMetadataInputSchema.parse(metadataWithRewards);\n    const {\n      erc20Rewards,\n      erc721Rewards,\n      erc1155Rewards\n    } = parsedMetadata;\n    const rewardsData = {\n      erc20Rewards,\n      erc721Rewards,\n      erc1155Rewards\n    };\n    const {\n      contents,\n      numOfRewardUnits\n    } = await this.toPackContentArgs(rewardsData);\n    const receipt = await this.contractWrapper.sendTransaction(\"createPack\", [contents, numOfRewardUnits, uri, parsedMetadata.openStartTime, parsedMetadata.rewardsPerPack, to]);\n    const event = this.contractWrapper.parseLogs(\"PackCreated\", receipt?.logs);\n    if (event.length === 0) {\n      throw new Error(\"PackCreated event not found\");\n    }\n    const packId = event[0].args.packId;\n    return {\n      id: packId,\n      receipt,\n      data: () => this.erc1155.get(packId)\n    };\n  }\n\n  /**\n   * Open Pack\n   *\n   * @remarks - Open a pack to reveal the contained rewards. This will burn the specified pack and\n   * the contained assets will be transferred to the opening users wallet.\n   *\n   * @param tokenId - the token ID of the pack you want to open\n   * @param amount - the amount of packs you want to open\n   *\n   * @example\n   * ```javascript\n   * const tokenId = 0\n   * const amount = 1\n   * const tx = await contract.open(tokenId, amount);\n   * ```\n   */\n  async open(tokenId) {\n    let amount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    if (this._vrf) {\n      throw new Error(\"This contract is using Chainlink VRF, use `contract.vrf.open()` or `contract.vrf.openAndClaim()` instead\");\n    }\n    const receipt = await this.contractWrapper.sendTransaction(\"openPack\", [tokenId, amount], {\n      // Higher gas limit for opening packs\n      gasLimit: 500000\n    });\n    const event = this.contractWrapper.parseLogs(\"PackOpened\", receipt?.logs);\n    if (event.length === 0) {\n      throw new Error(\"PackOpened event not found\");\n    }\n    const rewards = event[0].args.rewardUnitsDistributed;\n    const erc20Rewards = [];\n    const erc721Rewards = [];\n    const erc1155Rewards = [];\n    for (const reward of rewards) {\n      switch (reward.tokenType) {\n        case 0:\n          {\n            const tokenMetadata = await (0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.b9)(this.contractWrapper.getProvider(), reward.assetContract);\n            erc20Rewards.push({\n              contractAddress: reward.assetContract,\n              quantityPerReward: ethers__WEBPACK_IMPORTED_MODULE_70__.ethers.utils.formatUnits(reward.totalAmount, tokenMetadata.decimals).toString()\n            });\n            break;\n          }\n        case 1:\n          {\n            erc721Rewards.push({\n              contractAddress: reward.assetContract,\n              tokenId: reward.tokenId.toString()\n            });\n            break;\n          }\n        case 2:\n          {\n            erc1155Rewards.push({\n              contractAddress: reward.assetContract,\n              tokenId: reward.tokenId.toString(),\n              quantityPerReward: reward.totalAmount.toString()\n            });\n            break;\n          }\n      }\n    }\n    return {\n      erc20Rewards,\n      erc721Rewards,\n      erc1155Rewards\n    };\n  }\n\n  /** *****************************\n   * PRIVATE FUNCTIONS\n   *******************************/\n\n  async toPackContentArgs(metadataWithRewards) {\n    const contents = [];\n    const numOfRewardUnits = [];\n    const {\n      erc20Rewards,\n      erc721Rewards,\n      erc1155Rewards\n    } = metadataWithRewards;\n    const provider = this.contractWrapper.getProvider();\n    const owner = await this.contractWrapper.getSignerAddress();\n    for (const erc20 of erc20Rewards) {\n      const normalizedQuantity = await (0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.ba)(provider, erc20.quantityPerReward, erc20.contractAddress);\n      // Multiply the quantity of one reward by the number of rewards\n      const totalQuantity = normalizedQuantity.mul(erc20.totalRewards);\n      const hasAllowance = await (0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.d1)(this.contractWrapper, erc20.contractAddress, totalQuantity);\n      if (!hasAllowance) {\n        throw new Error(`ERC20 token with contract address \"${erc20.contractAddress}\" does not have enough allowance to transfer.\\n\\nYou can set allowance to the multiwrap contract to transfer these tokens by running:\\n\\nawait sdk.getToken(\"${erc20.contractAddress}\").setAllowance(\"${this.getAddress()}\", ${totalQuantity});\\n\\n`);\n      }\n      numOfRewardUnits.push(erc20.totalRewards);\n      contents.push({\n        assetContract: erc20.contractAddress,\n        tokenType: 0,\n        totalAmount: totalQuantity,\n        tokenId: 0\n      });\n    }\n    for (const erc721 of erc721Rewards) {\n      const isApproved = await (0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.cY)(this.contractWrapper.getProvider(), this.getAddress(), erc721.contractAddress, erc721.tokenId, owner);\n      if (!isApproved) {\n        throw new Error(`ERC721 token \"${erc721.tokenId}\" with contract address \"${erc721.contractAddress}\" is not approved for transfer.\\n\\nYou can give approval the multiwrap contract to transfer this token by running:\\n\\nawait sdk.getNFTCollection(\"${erc721.contractAddress}\").setApprovalForToken(\"${this.getAddress()}\", ${erc721.tokenId});\\n\\n`);\n      }\n      numOfRewardUnits.push(\"1\");\n      contents.push({\n        assetContract: erc721.contractAddress,\n        tokenType: 1,\n        totalAmount: 1,\n        tokenId: erc721.tokenId\n      });\n    }\n    for (const erc1155 of erc1155Rewards) {\n      const isApproved = await (0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.cY)(this.contractWrapper.getProvider(), this.getAddress(), erc1155.contractAddress, erc1155.tokenId, owner);\n      if (!isApproved) {\n        throw new Error(`ERC1155 token \"${erc1155.tokenId}\" with contract address \"${erc1155.contractAddress}\" is not approved for transfer.\\n\\nYou can give approval the multiwrap contract to transfer this token by running:\\n\\nawait sdk.getEdition(\"${erc1155.contractAddress}\").setApprovalForAll(\"${this.getAddress()}\", true);\\n\\n`);\n      }\n      numOfRewardUnits.push(erc1155.totalRewards);\n      contents.push({\n        assetContract: erc1155.contractAddress,\n        tokenType: 2,\n        totalAmount: ethers__WEBPACK_IMPORTED_MODULE_70__.BigNumber.from(erc1155.quantityPerReward).mul(ethers__WEBPACK_IMPORTED_MODULE_70__.BigNumber.from(erc1155.totalRewards)),\n        tokenId: erc1155.tokenId\n      });\n    }\n    return {\n      contents,\n      numOfRewardUnits\n    };\n  }\n\n  /**\n   * @internal\n   */\n  async call(functionName) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return this.contractWrapper.call(functionName, ...args);\n  }\n  detectVrf() {\n    if ((0,_thirdweb_checkout_2c8d478b_esm_js__WEBPACK_IMPORTED_MODULE_68__.b_)(this.contractWrapper, \"PackVRF\")) {\n      return new PackVRF(this.contractWrapper.getSignerOrProvider(), this.contractWrapper.readContract.address, this.storage, this.contractWrapper.options, this.chainId);\n    }\n    return undefined;\n  }\n}\n(0,_QueryParams_da88d27c_esm_js__WEBPACK_IMPORTED_MODULE_69__._)(Pack, \"contractRoles\", [\"admin\", \"minter\", \"asset\", \"transfer\"]);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi9zZGsvZGlzdC9wYWNrLTI2MDk1YjQ0LmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrSDtBQUN3aUI7QUFDbmxCO0FBQ1k7QUFDeEM7QUFDbkI7QUFDVDtBQUM0QztBQUNBO0FBQ0M7QUFDcEM7QUFDMEM7QUFDVDtBQUNRO0FBQ0c7QUFDRztBQUNiO0FBQ1E7QUFDSjtBQUNTO0FBQ0o7QUFDQztBQUNGO0FBQ0E7QUFDRztBQUNKO0FBQ0o7QUFDTTtBQUNLO0FBQ0c7QUFDUDtBQUNBO0FBQ0M7QUFDUjtBQUNNO0FBQ0s7QUFDRztBQUNMO0FBQ0Y7QUFDSztBQUNQO0FBQ1A7QUFDVTtBQUNGO0FBQ0M7QUFDVDtBQUNLO0FBQ1U7QUFDVjtBQUNBO0FBQ0w7QUFDQztBQUNEO0FBQ3RDO0FBQ1M7QUFDUDtBQUNzQztBQUM5QjtBQUMyQjtBQUNXO0FBQ0g7QUFDNUM7QUFDRztBQUNYO0FBQ3FEO0FBQ0M7QUFDUTtBQUNQO0FBQ1E7QUFDQztBQUNqQjtBQUNDO0FBQ2hEOztBQUVkO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwQ0FBUTtBQUN0QyxtQkFBbUIsbUVBQWE7QUFDaEMsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQVk7QUFDeEIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUVBQWtCO0FBQzdCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1FQUFrQjtBQUM3QixZQUFZLG1FQUFrQjtBQUM5QixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QscUJBQXFCLDREQUFZO0FBQ2pDLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1RUFBa0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHVFQUFxQjtBQUM3RDtBQUNBO0FBQ0EsaUNBQWlDLDZEQUF3QjtBQUN6RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHVFQUFtQjtBQUMxRDtBQUNBO0FBQ0EsaUNBQWlDLHVFQUFpQjtBQUNsRDtBQUNBLDhEQUE4RCxzQkFBc0IsK0pBQStKLHNCQUFzQixtQkFBbUIsa0JBQWtCLEtBQUssY0FBYyxFQUFFO0FBQ25VO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSwrQkFBK0IsdUVBQTBCO0FBQ3pEO0FBQ0EseUNBQXlDLGVBQWUsMkJBQTJCLHVCQUF1QixvSkFBb0osdUJBQXVCLDBCQUEwQixrQkFBa0IsS0FBSyxlQUFlLEVBQUU7QUFDdlY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLCtCQUErQix1RUFBMEI7QUFDekQ7QUFDQSwwQ0FBMEMsZ0JBQWdCLDJCQUEyQix3QkFBd0IsOElBQThJLHdCQUF3Qix3QkFBd0Isa0JBQWtCLFNBQVM7QUFDdFU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtREFBYyxnQ0FBZ0MsbURBQWM7QUFDakY7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGLGFBQWE7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUVBQXFCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZTs7QUFFQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi9zZGsvZGlzdC9wYWNrLTI2MDk1YjQ0LmVzbS5qcz9mN2UxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEEgYXMgQW1vdW50U2NoZW1hLCBOIGFzIE5GVElucHV0T3JVcmlTY2hlbWEsIF8gYXMgX2RlZmluZVByb3BlcnR5IH0gZnJvbSAnLi9RdWVyeVBhcmFtcy1kYTg4ZDI3Yy5lc20uanMnO1xuaW1wb3J0IHsgYWYgYXMgQWRkcmVzc1NjaGVtYSwgYWQgYXMgQmlnTnVtYmVyaXNoU2NoZW1hLCBhZyBhcyBSYXdEYXRlU2NoZW1hLCBjTSBhcyBDb250cmFjdFdyYXBwZXIsIGQ1IGFzIEZFQVRVUkVfUEFDS19WUkYsIGFYIGFzIENvbnRyYWN0RXZlbnRzLCBiOSBhcyBmZXRjaEN1cnJlbmN5TWV0YWRhdGEsIGNoIGFzIExJTktfVE9LRU5fQUREUkVTUywgYXUgYXMgRXJjMjAsIGFTIGFzIFN0YW5kYXJkRXJjMTE1NSwgYlogYXMgYXNzZXJ0RW5hYmxlZCwgYUwgYXMgRXJjMTE1NSwgYW0gYXMgQ29udHJhY3RNZXRhZGF0YSwgZDYgYXMgUGFja0NvbnRyYWN0U2NoZW1hLCBhbiBhcyBDb250cmFjdFJvbGVzLCBhbyBhcyBDb250cmFjdFJveWFsdHksIGFsIGFzIENvbnRyYWN0RW5jb2RlciwgYVcgYXMgR2FzQ29zdEVzdGltYXRvciwgYVkgYXMgQ29udHJhY3RJbnRlcmNlcHRvciwgYSQgYXMgQ29udHJhY3RPd25lciwgYkMgYXMgZ2V0Um9sZUhhc2gsIGQwIGFzIHVwbG9hZE9yRXh0cmFjdFVSSSwgYmEgYXMgbm9ybWFsaXplUHJpY2VWYWx1ZSwgZDEgYXMgaGFzRVJDMjBBbGxvd2FuY2UsIGNZIGFzIGlzVG9rZW5BcHByb3ZlZEZvclRyYW5zZmVyLCBiXyBhcyBkZXRlY3RDb250cmFjdEZlYXR1cmUgfSBmcm9tICcuL3RoaXJkd2ViLWNoZWNrb3V0LTJjOGQ0NzhiLmVzbS5qcyc7XG5pbXBvcnQgRVJDMjBBYmkgZnJvbSAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0VSQzIwLmpzb24nO1xuaW1wb3J0IElQYWNrVlJGQWJpIGZyb20gJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JUGFja1ZSRkRpcmVjdC5qc29uJztcbmltcG9ydCB7IEJpZ051bWJlciwgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0ICdibi5qcyc7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JRVJDMTY1Lmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSUVSQzcyMS5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lFUkMxMTU1Lmpzb24nO1xuaW1wb3J0ICd0aW55LWludmFyaWFudCc7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JQnVybmFibGVFUkMyMC5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lEcm9wLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSURyb3BFUkMyMF9WMi5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lEcm9wU2luZ2xlUGhhc2UuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JRHJvcFNpbmdsZVBoYXNlX1YxLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSUVSQzIwLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSU1pbnRhYmxlRVJDMjAuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JTXVsdGljYWxsLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSVNpZ25hdHVyZU1pbnRFUkMyMC5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lCdXJuYWJsZUVSQzcyMS5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lDbGFpbWFibGVFUkM3MjEuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JRGVsYXllZFJldmVhbC5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lEcm9wRVJDNzIxX1YzLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSUVSQzcyMUVudW1lcmFibGUuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JRVJDNzIxU3VwcGx5Lmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSUxhenlNaW50Lmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSU1pbnRhYmxlRVJDNzIxLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSVNpZ25hdHVyZU1pbnRFUkM3MjEuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JU2lnbmF0dXJlTWludEVSQzcyMV9WMS5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0xhenlNaW50V2l0aFRpZXIuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JQnVybmFibGVFUkMxMTU1Lmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSUNsYWltYWJsZUVSQzExNTUuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JRHJvcDExNTUuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JRHJvcEVSQzExNTVfVjIuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JRHJvcFNpbmdsZVBoYXNlMTE1NS5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lEcm9wU2luZ2xlUGhhc2UxMTU1X1YxLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSUVSQzExNTVFbnVtZXJhYmxlLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSU1pbnRhYmxlRVJDMTE1NS5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lTaWduYXR1cmVNaW50RVJDMTE1NS5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0VSQzI3NzFDb250ZXh0Lmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSUFwcFVSSS5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lDb250cmFjdE1ldGFkYXRhLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSURpcmVjdExpc3RpbmdzLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSUVuZ2xpc2hBdWN0aW9ucy5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lPZmZlcnMuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JUGVybWlzc2lvbnMuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JUGVybWlzc2lvbnNFbnVtZXJhYmxlLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSVBsYXRmb3JtRmVlLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSVByaW1hcnlTYWxlLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSVJvdXRlci5qc29uJztcbmltcG9ydCAnQHRoaXJkd2ViLWRldi9jb250cmFjdHMtanMvZGlzdC9hYmlzL0lSb3lhbHR5Lmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvT3duYWJsZS5qc29uJztcbmltcG9ydCAnY3Jvc3MtZmV0Y2gnO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NoYWlucyc7XG5pbXBvcnQgJ2V2ZW50ZW1pdHRlcjMnO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvRm9yd2FyZGVyLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L3N0b3JhZ2UnO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvUm91dGVyLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSVRoaXJkd2ViQ29udHJhY3QuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JRVJDMjBNZXRhZGF0YS5qc29uJztcbmltcG9ydCAnbWVya2xldHJlZWpzJztcbmltcG9ydCAnZmFzdC1kZWVwLWVxdWFsJztcbmltcG9ydCAndXVpZCc7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JRVJDNzIxTWV0YWRhdGEuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9JRVJDMTE1NU1ldGFkYXRhLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvSURlbGF5ZWRSZXZlYWxEZXByZWNhdGVkLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvQ29udHJhY3RQdWJsaXNoZXIuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9UV011bHRpY2hhaW5SZWdpc3RyeUxvZ2ljLmpzb24nO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NvbnRyYWN0cy1qcy9kaXN0L2FiaXMvVFdNdWx0aWNoYWluUmVnaXN0cnlSb3V0ZXIuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9UV0ZhY3RvcnkuanNvbic7XG5pbXBvcnQgJ0B0aGlyZHdlYi1kZXYvY29udHJhY3RzLWpzL2Rpc3QvYWJpcy9UV1JlZ2lzdHJ5Lmpzb24nO1xuaW1wb3J0ICdiczU4JztcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgQ29tbW9uV3JhcHBhYmxlU2NoZW1hID0gei5vYmplY3Qoe1xuICBjb250cmFjdEFkZHJlc3M6IEFkZHJlc3NTY2hlbWFcbn0pO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBFUkMyMFdyYXBwYWJsZVNjaGVtYSA9IENvbW1vbldyYXBwYWJsZVNjaGVtYS5leHRlbmQoe1xuICBxdWFudGl0eTogQW1vdW50U2NoZW1hXG59KTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgRVJDNzIxV3JhcHBhYmxlU2NoZW1hID0gQ29tbW9uV3JhcHBhYmxlU2NoZW1hLmV4dGVuZCh7XG4gIHRva2VuSWQ6IEJpZ051bWJlcmlzaFNjaGVtYVxufSk7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IEVSQzExNTVXcmFwcGFibGVTY2hlbWEgPSBDb21tb25XcmFwcGFibGVTY2hlbWEuZXh0ZW5kKHtcbiAgdG9rZW5JZDogQmlnTnVtYmVyaXNoU2NoZW1hLFxuICBxdWFudGl0eTogQmlnTnVtYmVyaXNoU2NoZW1hXG59KTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgRVJDMjBSZXdhcmRTY2hlbWEgPSBFUkMyMFdyYXBwYWJsZVNjaGVtYS5vbWl0KHtcbiAgcXVhbnRpdHk6IHRydWVcbn0pLmV4dGVuZCh7XG4gIHF1YW50aXR5UGVyUmV3YXJkOiBBbW91bnRTY2hlbWFcbn0pO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBFUkM3MjFSZXdhcmRTY2hlbWEgPSBFUkM3MjFXcmFwcGFibGVTY2hlbWE7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IEVSQzExNTVSZXdhcmRTY2hlbWEgPSBFUkMxMTU1V3JhcHBhYmxlU2NoZW1hLm9taXQoe1xuICBxdWFudGl0eTogdHJ1ZVxufSkuZXh0ZW5kKHtcbiAgcXVhbnRpdHlQZXJSZXdhcmQ6IEJpZ051bWJlcmlzaFNjaGVtYVxufSk7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IEVSQzIwUmV3YXJkQ29udGVudHNTY2hlbWEgPSBFUkMyMFJld2FyZFNjaGVtYS5leHRlbmQoe1xuICB0b3RhbFJld2FyZHM6IEJpZ051bWJlcmlzaFNjaGVtYS5kZWZhdWx0KFwiMVwiKVxufSk7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IEVSQzcyMVJld2FyZENvbnRlbnRzU2NoZW1hID0gRVJDNzIxUmV3YXJkU2NoZW1hO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBFUkMxMTU1UmV3YXJkQ29udGVudHNTY2hlbWEgPSBFUkMxMTU1UmV3YXJkU2NoZW1hLmV4dGVuZCh7XG4gIHRvdGFsUmV3YXJkczogQmlnTnVtYmVyaXNoU2NoZW1hLmRlZmF1bHQoXCIxXCIpXG59KTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuei5vYmplY3Qoe1xuICBlcmMyMFJld2FyZHM6IHouYXJyYXkoRVJDMjBSZXdhcmRTY2hlbWEpLmRlZmF1bHQoW10pLFxuICBlcmM3MjFSZXdhcmRzOiB6LmFycmF5KEVSQzcyMVJld2FyZFNjaGVtYSkuZGVmYXVsdChbXSksXG4gIGVyYzExNTVSZXdhcmRzOiB6LmFycmF5KEVSQzExNTVSZXdhcmRTY2hlbWEpLmRlZmF1bHQoW10pXG59KTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgUGFja1Jld2FyZHNPdXRwdXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVyYzIwUmV3YXJkczogei5hcnJheShFUkMyMFJld2FyZENvbnRlbnRzU2NoZW1hKS5kZWZhdWx0KFtdKSxcbiAgZXJjNzIxUmV3YXJkczogei5hcnJheShFUkM3MjFSZXdhcmRDb250ZW50c1NjaGVtYSkuZGVmYXVsdChbXSksXG4gIGVyYzExNTVSZXdhcmRzOiB6LmFycmF5KEVSQzExNTVSZXdhcmRDb250ZW50c1NjaGVtYSkuZGVmYXVsdChbXSlcbn0pO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBQYWNrTWV0YWRhdGFJbnB1dFNjaGVtYSA9IFBhY2tSZXdhcmRzT3V0cHV0U2NoZW1hLmV4dGVuZCh7XG4gIHBhY2tNZXRhZGF0YTogTkZUSW5wdXRPclVyaVNjaGVtYSxcbiAgcmV3YXJkc1BlclBhY2s6IEJpZ051bWJlcmlzaFNjaGVtYS5kZWZhdWx0KFwiMVwiKSxcbiAgb3BlblN0YXJ0VGltZTogUmF3RGF0ZVNjaGVtYS5kZWZhdWx0KG5ldyBEYXRlKCkpXG59KTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cblxuY2xhc3MgUGFja1ZSRiB7XG4gIGNvbnN0cnVjdG9yKG5ldHdvcmssIGFkZHJlc3MsIHN0b3JhZ2UsIG9wdGlvbnMsIGNoYWluSWQpIHtcbiAgICBsZXQgY29udHJhY3RXcmFwcGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiBuZXcgQ29udHJhY3RXcmFwcGVyKG5ldHdvcmssIGFkZHJlc3MsIElQYWNrVlJGQWJpLCBvcHRpb25zKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJmZWF0dXJlTmFtZVwiLCBGRUFUVVJFX1BBQ0tfVlJGLm5hbWUpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnRyYWN0V3JhcHBlclwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3JhZ2VcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGFpbklkXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZXZlbnRzXCIsIHZvaWQgMCk7XG4gICAgdGhpcy5jb250cmFjdFdyYXBwZXIgPSBjb250cmFjdFdyYXBwZXI7XG4gICAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcbiAgICB0aGlzLmNoYWluSWQgPSBjaGFpbklkO1xuICAgIHRoaXMuZXZlbnRzID0gbmV3IENvbnRyYWN0RXZlbnRzKHRoaXMuY29udHJhY3RXcmFwcGVyKTtcbiAgfVxuICBvbk5ldHdvcmtVcGRhdGVkKG5ldHdvcmspIHtcbiAgICB0aGlzLmNvbnRyYWN0V3JhcHBlci51cGRhdGVTaWduZXJPclByb3ZpZGVyKG5ldHdvcmspO1xuICB9XG4gIGdldEFkZHJlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udHJhY3RXcmFwcGVyLnJlYWRDb250cmFjdC5hZGRyZXNzO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gYSBwYWNrIHVzaW5nIENoYWlubGluayBWUkZzIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvblxuICAgKiBUaGlzIHdpbGwgcmV0dXJuIGEgdHJhbnNhY3Rpb24gcmVzdWx0IHdpdGggdGhlIHJlcXVlc3RJZCBvZiB0aGUgb3BlbiByZXF1ZXN0LCBOT1QgdGhlIGNvbnRlbnRzIG9mIHRoZSBwYWNrXG4gICAqIFRvIGdldCB0aGUgY29udGVudHMgb2YgdGhlIHBhY2ssIHlvdSBtdXN0IGNhbGwgY2xhaW1SZXdhcmRzIG9uY2UgdGhlIFZSRiByZXF1ZXN0IGhhcyBiZWVuIGZ1bGZpbGxlZFxuICAgKiBZb3UgY2FuIHVzZSB0aGUgY2FuQ2xhaW1SZXdhcmRzIG1ldGhvZCB0byBjaGVjayBpZiB0aGUgVlJGIHJlcXVlc3QgaGFzIGJlZW4gZnVsZmlsbGVkXG4gICAqIEBwYXJhbSB0b2tlbklkXG4gICAqIEBwYXJhbSBhbW91bnRcbiAgICogQHJldHVybnNcbiAgICovXG4gIGFzeW5jIG9wZW4odG9rZW5JZCkge1xuICAgIGxldCBhbW91bnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG4gICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHRoaXMuY29udHJhY3RXcmFwcGVyLnNlbmRUcmFuc2FjdGlvbihcIm9wZW5QYWNrXCIsIFt0b2tlbklkLCBhbW91bnRdLCB7XG4gICAgICAvLyBIaWdoZXIgZ2FzIGxpbWl0IGZvciBvcGVuaW5nIHBhY2tzXG4gICAgICBnYXNMaW1pdDogNTAwMDAwXG4gICAgfSk7XG4gICAgbGV0IGlkID0gQmlnTnVtYmVyLmZyb20oMCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5jb250cmFjdFdyYXBwZXIucGFyc2VMb2dzKFwiUGFja09wZW5SZXF1ZXN0ZWRcIiwgcmVjZWlwdD8ubG9ncyk7XG4gICAgICBpZCA9IGV2ZW50WzBdLmFyZ3MucmVxdWVzdElkO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlY2VpcHQsXG4gICAgICBpZFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2xhaW0gdGhlIHJld2FyZHMgZnJvbSBhIHBhY2sgdGhhdCBoYXMgYmVlbiBvcGVuZWRcbiAgICogVGhpcyB3aWxsIHJldHVybiB0aGUgY29udGVudHMgb2YgdGhlIHBhY2tcbiAgICogTWFrZSBzdXJlIHRvIGNoZWNrIGlmIHRoZSBWUkYgcmVxdWVzdCBoYXMgYmVlbiBmdWxmaWxsZWQgdXNpbmcgY2FuQ2xhaW1SZXdhcmRzKCkgYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2RcbiAgICogQHJldHVybnMgdGhlIHJhbmRvbSByZXdhcmRzIGZyb20gb3BlbmluZyBhIHBhY2tcbiAgICovXG4gIGFzeW5jIGNsYWltUmV3YXJkcygpIHtcbiAgICBjb25zdCByZWNlaXB0ID0gYXdhaXQgdGhpcy5jb250cmFjdFdyYXBwZXIuc2VuZFRyYW5zYWN0aW9uKFwiY2xhaW1SZXdhcmRzXCIsIFtdLCB7XG4gICAgICAvLyBIaWdoZXIgZ2FzIGxpbWl0IGZvciBvcGVuaW5nIHBhY2tzXG4gICAgICBnYXNMaW1pdDogNTAwMDAwXG4gICAgfSk7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmNvbnRyYWN0V3JhcHBlci5wYXJzZUxvZ3MoXCJQYWNrT3BlbmVkXCIsIHJlY2VpcHQ/LmxvZ3MpO1xuICAgIGlmIChldmVudC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhY2tPcGVuZWQgZXZlbnQgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXdhcmRzID0gZXZlbnRbMF0uYXJncy5yZXdhcmRVbml0c0Rpc3RyaWJ1dGVkO1xuICAgIHJldHVybiB0aGlzLnBhcnNlUmV3YXJkcyhyZXdhcmRzKTtcbiAgfVxuICBhc3luYyBwYXJzZVJld2FyZHMocmV3YXJkcykge1xuICAgIGNvbnN0IGVyYzIwUmV3YXJkcyA9IFtdO1xuICAgIGNvbnN0IGVyYzcyMVJld2FyZHMgPSBbXTtcbiAgICBjb25zdCBlcmMxMTU1UmV3YXJkcyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmV3YXJkIG9mIHJld2FyZHMpIHtcbiAgICAgIHN3aXRjaCAocmV3YXJkLnRva2VuVHlwZSkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdG9rZW5NZXRhZGF0YSA9IGF3YWl0IGZldGNoQ3VycmVuY3lNZXRhZGF0YSh0aGlzLmNvbnRyYWN0V3JhcHBlci5nZXRQcm92aWRlcigpLCByZXdhcmQuYXNzZXRDb250cmFjdCk7XG4gICAgICAgICAgICBlcmMyMFJld2FyZHMucHVzaCh7XG4gICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogcmV3YXJkLmFzc2V0Q29udHJhY3QsXG4gICAgICAgICAgICAgIHF1YW50aXR5UGVyUmV3YXJkOiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHMocmV3YXJkLnRvdGFsQW1vdW50LCB0b2tlbk1ldGFkYXRhLmRlY2ltYWxzKS50b1N0cmluZygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVyYzcyMVJld2FyZHMucHVzaCh7XG4gICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogcmV3YXJkLmFzc2V0Q29udHJhY3QsXG4gICAgICAgICAgICAgIHRva2VuSWQ6IHJld2FyZC50b2tlbklkLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJjMTE1NVJld2FyZHMucHVzaCh7XG4gICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogcmV3YXJkLmFzc2V0Q29udHJhY3QsXG4gICAgICAgICAgICAgIHRva2VuSWQ6IHJld2FyZC50b2tlbklkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHF1YW50aXR5UGVyUmV3YXJkOiByZXdhcmQudG90YWxBbW91bnQudG9TdHJpbmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBlcmMyMFJld2FyZHMsXG4gICAgICBlcmM3MjFSZXdhcmRzLFxuICAgICAgZXJjMTE1NVJld2FyZHNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGNhbGxlZCBldmVyeXRpbWUgYSBwYWNrIGlzIG9wZW5lZCBpbiB0aGlzIGNvbnRyYWN0XG4gICAqIEBwYXJhbSBjYWxsYmFjayB0aGUgbGlzdGVuZXIgdG8gY2FsbCB3aGVuIGEgcGFjayBpcyBvcGVuZWRcbiAgICogQHJldHVybnMgYSB1bnN1YnNjcmliZSBmdW5jdGlvbiB0byBjbGVhbnVwIHRoZSBsaXN0ZW5lclxuICAgKi9cbiAgYXN5bmMgYWRkUGFja09wZW5FdmVudExpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoXCJQYWNrT3BlbmVkXCIsIGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgIGNhbGxiYWNrKGV2ZW50LmRhdGEucGFja0lkLnRvU3RyaW5nKCksIGV2ZW50LmRhdGEub3BlbmVyLCBhd2FpdCB0aGlzLnBhcnNlUmV3YXJkcyhldmVudC5kYXRhLnJld2FyZFVuaXRzRGlzdHJpYnV0ZWQpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgY29ubmVjdGVkIGFkZHJlc3MgY2FuIGNsYWltIHJld2FyZHMgYWZ0ZXIgb3BlbmluZyBhIHBhY2tcbiAgICogQHBhcmFtIGNsYWltZXJBZGRyZXNzIE9wdGlvbmFsOiB0aGUgYWRkcmVzcyB0byBjaGVjayBpZiB0aGV5IGNhbiBjbGFpbSByZXdhcmRzLCBkZWZhdWx0cyB0byB0aGUgY29ubmVjdGVkIGFkZHJlc3NcbiAgICogQHJldHVybnMgd2hldGhlciB0aGUgY29ubmVjdGVkIGFkZHJlc3MgY2FuIGNsYWltIHJld2FyZHMgYWZ0ZXIgb3BlbmluZyBhIHBhY2tcbiAgICovXG4gIGFzeW5jIGNhbkNsYWltUmV3YXJkcyhjbGFpbWVyQWRkcmVzcykge1xuICAgIGNvbnN0IGFkZHJlc3MgPSBjbGFpbWVyQWRkcmVzcyB8fCAoYXdhaXQgdGhpcy5jb250cmFjdFdyYXBwZXIuZ2V0U2lnbmVyQWRkcmVzcygpKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5jb250cmFjdFdyYXBwZXIucmVhZENvbnRyYWN0LmNhbkNsYWltUmV3YXJkcyhhZGRyZXNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIGEgcGFjayBhbmQgY2xhaW0gdGhlIHJld2FyZHMgaW4gb25lIHRyYW5zYWN0aW9uLlxuICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgb25seSBzdGFydCB0aGUgZmxvdyBvZiBvcGVuaW5nIGEgcGFjaywgdGhlIHJld2FyZHMgd2lsbCBiZSBncmFudGVkIGF1dG9tYXRpY2FsbHkgdG8gdGhlIGNvbm5lY3RlZCBhZGRyZXNzIGFmdGVyIFZSRiByZXF1ZXN0IGlzIGZ1bGZpbGxlZFxuICAgKiBAcGFyYW0gcGFja0lkIFRoZSBpZCBvZiB0aGUgcGFjayB0byBvcGVuXG4gICAqIEBwYXJhbSBhbW91bnQgT3B0aW9uYWw6IHRoZSBhbW91bnQgb2YgcGFja3MgdG8gb3BlbiwgZGVmYXVsdHMgdG8gMVxuICAgKiBAcGFyYW0gZ2FzTGltaXQgT3B0aW9uYWw6IHRoZSBnYXMgbGltaXQgdG8gdXNlIGZvciB0aGUgVlJGIGNhbGxiYWNrIHRyYW5zYWN0aW9uLCBkZWZhdWx0cyB0byA1MDAwMDBcbiAgICogQHJldHVybnNcbiAgICovXG4gIGFzeW5jIG9wZW5BbmRDbGFpbShwYWNrSWQpIHtcbiAgICBsZXQgYW1vdW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxO1xuICAgIGxldCBnYXNMaW1pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogNTAwMDAwO1xuICAgIGNvbnN0IHJlY2VpcHQgPSBhd2FpdCB0aGlzLmNvbnRyYWN0V3JhcHBlci5zZW5kVHJhbnNhY3Rpb24oXCJvcGVuUGFja0FuZENsYWltUmV3YXJkc1wiLCBbcGFja0lkLCBhbW91bnQsIGdhc0xpbWl0XSwge1xuICAgICAgLy8gSGlnaGVyIGdhcyBsaW1pdCBmb3Igb3BlbmluZyBwYWNrc1xuICAgICAgZ2FzTGltaXQ6IEJpZ051bWJlci5mcm9tKDUwMDAwMClcbiAgICB9KTtcbiAgICBsZXQgaWQgPSBCaWdOdW1iZXIuZnJvbSgwKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmNvbnRyYWN0V3JhcHBlci5wYXJzZUxvZ3MoXCJQYWNrT3BlblJlcXVlc3RlZFwiLCByZWNlaXB0Py5sb2dzKTtcbiAgICAgIGlkID0gZXZlbnRbMF0uYXJncy5yZXF1ZXN0SWQ7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4ge1xuICAgICAgcmVjZWlwdCxcbiAgICAgIGlkXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGJhbGFuY2Ugb2YgTElOSyBpbiB0aGUgY29udHJhY3RcbiAgICogQHJldHVybnMgdGhlIGJhbGFuY2Ugb2YgTElOSyBpbiB0aGUgY29udHJhY3RcbiAgICovXG4gIGFzeW5jIGdldExpbmtCYWxhbmNlKCkge1xuICAgIHJldHVybiB0aGlzLmdldExpbmtDb250cmFjdCgpLmJhbGFuY2VPZih0aGlzLmNvbnRyYWN0V3JhcHBlci5yZWFkQ29udHJhY3QuYWRkcmVzcyk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmZXIgTElOSyB0byB0aGlzIGNvbnRyYWN0XG4gICAqIEBwYXJhbSBhbW91bnQgdGhlIGFtb3VudCBvZiBMSU5LIHRvIHRyYW5zZmVyIHRvIHRoZSBjb250cmFjdFxuICAgKi9cbiAgYXN5bmMgdHJhbnNmZXJMaW5rKGFtb3VudCkge1xuICAgIGF3YWl0IHRoaXMuZ2V0TGlua0NvbnRyYWN0KCkudHJhbnNmZXIodGhpcy5jb250cmFjdFdyYXBwZXIucmVhZENvbnRyYWN0LmFkZHJlc3MsIGFtb3VudCk7XG4gIH1cbiAgZ2V0TGlua0NvbnRyYWN0KCkge1xuICAgIGNvbnN0IGxpbmtBZGRyZXNzID0gTElOS19UT0tFTl9BRERSRVNTW3RoaXMuY2hhaW5JZF07XG4gICAgaWYgKCFsaW5rQWRkcmVzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBMSU5LIHRva2VuIGFkZHJlc3MgZm91bmQgZm9yIGNoYWluSWQgJHt0aGlzLmNoYWluSWR9YCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyYWN0ID0gbmV3IENvbnRyYWN0V3JhcHBlcih0aGlzLmNvbnRyYWN0V3JhcHBlci5nZXRTaWduZXJPclByb3ZpZGVyKCksIGxpbmtBZGRyZXNzLCBFUkMyMEFiaSwgdGhpcy5jb250cmFjdFdyYXBwZXIub3B0aW9ucyk7XG4gICAgcmV0dXJuIG5ldyBFcmMyMChjb250cmFjdCwgdGhpcy5zdG9yYWdlLCB0aGlzLmNoYWluSWQpO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGxvb3Rib3hlcyBvZiBORlRzIHdpdGggcmFyaXR5IGJhc2VkIG9wZW4gbWVjaGFuaWNzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogaW1wb3J0IHsgVGhpcmR3ZWJTREsgfSBmcm9tIFwiQHRoaXJkd2ViLWRldi9zZGtcIjtcbiAqXG4gKiBjb25zdCBzZGsgPSBuZXcgVGhpcmR3ZWJTREsoXCJ7e2NoYWluTmFtZX19XCIpO1xuICogY29uc3QgY29udHJhY3QgPSBhd2FpdCBzZGsuZ2V0Q29udHJhY3QoXCJ7e2NvbnRyYWN0X2FkZHJlc3N9fVwiLCBcInBhY2tcIik7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIFBhY2sgZXh0ZW5kcyBTdGFuZGFyZEVyYzExNTUge1xuICAvKipcbiAgICogQ29uZmlndXJlIHJveWFsdGllc1xuICAgKiBAcmVtYXJrcyBTZXQgeW91ciBvd24gcm95YWx0aWVzIGZvciB0aGUgZW50aXJlIGNvbnRyYWN0IG9yIHBlciBwYWNrXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogLy8gcm95YWx0aWVzIG9uIHRoZSB3aG9sZSBjb250cmFjdFxuICAgKiBjb250cmFjdC5yb3lhbHRpZXMuc2V0RGVmYXVsdFJveWFsdHlJbmZvKHtcbiAgICogICBzZWxsZXJfZmVlX2Jhc2lzX3BvaW50czogMTAwLCAvLyAxJVxuICAgKiAgIGZlZV9yZWNpcGllbnQ6IFwiMHguLi5cIlxuICAgKiB9KTtcbiAgICogLy8gb3ZlcnJpZGUgcm95YWx0eSBmb3IgYSBwYXJ0aWN1bGFyIHBhY2tcbiAgICogY29udHJhY3Qucm95YWx0aWVzLnNldFRva2VuUm95YWx0eUluZm8ocGFja0lkLCB7XG4gICAqICAgc2VsbGVyX2ZlZV9iYXNpc19wb2ludHM6IDUwMCwgLy8gNSVcbiAgICogICBmZWVfcmVjaXBpZW50OiBcIjB4Li4uXCJcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuXG4gIC8qKlxuICAgKiBJZiBlbmFibGVkIGluIHRoZSBjb250cmFjdCwgdXNlIHRoZSBDaGFpbmxpbmsgVlJGIGZ1bmN0aW9uYWxpdHkgdG8gb3BlbiBwYWNrc1xuICAgKi9cbiAgZ2V0IHZyZigpIHtcbiAgICByZXR1cm4gYXNzZXJ0RW5hYmxlZCh0aGlzLl92cmYsIEZFQVRVUkVfUEFDS19WUkYpO1xuICB9XG4gIGNvbnN0cnVjdG9yKG5ldHdvcmssIGFkZHJlc3MsIHN0b3JhZ2UpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgbGV0IGFiaSA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogdW5kZWZpbmVkO1xuICAgIGxldCBjaGFpbklkID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgPyBhcmd1bWVudHNbNV0gOiB1bmRlZmluZWQ7XG4gICAgbGV0IGNvbnRyYWN0V3JhcHBlciA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogbmV3IENvbnRyYWN0V3JhcHBlcihuZXR3b3JrLCBhZGRyZXNzLCBhYmksIG9wdGlvbnMuZ2FzbGVzcyAmJiBcIm9wZW56ZXBwZWxpblwiIGluIG9wdGlvbnMuZ2FzbGVzcyA/IHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBnYXNsZXNzOiB7XG4gICAgICAgIG9wZW56ZXBwZWxpbjoge1xuICAgICAgICAgIC4uLm9wdGlvbnMuZ2FzbGVzcy5vcGVuemVwcGVsaW4sXG4gICAgICAgICAgdXNlRU9BRm9yd2FyZGVyOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IDogb3B0aW9ucyk7XG4gICAgc3VwZXIoY29udHJhY3RXcmFwcGVyLCBzdG9yYWdlLCBjaGFpbklkKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJhYmlcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRhZGF0YVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJvbGVzXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZW5jb2RlclwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV2ZW50c1wiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVzdGltYXRvclwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJveWFsdGllc1wiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImludGVyY2VwdG9yXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZXJjMTE1NVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm93bmVyXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3ZyZlwiLCB2b2lkIDApO1xuICAgIHRoaXMuYWJpID0gYWJpO1xuICAgIHRoaXMuZXJjMTE1NSA9IG5ldyBFcmMxMTU1KHRoaXMuY29udHJhY3RXcmFwcGVyLCB0aGlzLnN0b3JhZ2UsIGNoYWluSWQpO1xuICAgIHRoaXMubWV0YWRhdGEgPSBuZXcgQ29udHJhY3RNZXRhZGF0YSh0aGlzLmNvbnRyYWN0V3JhcHBlciwgUGFja0NvbnRyYWN0U2NoZW1hLCB0aGlzLnN0b3JhZ2UpO1xuICAgIHRoaXMucm9sZXMgPSBuZXcgQ29udHJhY3RSb2xlcyh0aGlzLmNvbnRyYWN0V3JhcHBlciwgUGFjay5jb250cmFjdFJvbGVzKTtcbiAgICB0aGlzLnJveWFsdGllcyA9IG5ldyBDb250cmFjdFJveWFsdHkodGhpcy5jb250cmFjdFdyYXBwZXIsIHRoaXMubWV0YWRhdGEpO1xuICAgIHRoaXMuZW5jb2RlciA9IG5ldyBDb250cmFjdEVuY29kZXIodGhpcy5jb250cmFjdFdyYXBwZXIpO1xuICAgIHRoaXMuZXN0aW1hdG9yID0gbmV3IEdhc0Nvc3RFc3RpbWF0b3IodGhpcy5jb250cmFjdFdyYXBwZXIpO1xuICAgIHRoaXMuZXZlbnRzID0gbmV3IENvbnRyYWN0RXZlbnRzKHRoaXMuY29udHJhY3RXcmFwcGVyKTtcbiAgICB0aGlzLmludGVyY2VwdG9yID0gbmV3IENvbnRyYWN0SW50ZXJjZXB0b3IodGhpcy5jb250cmFjdFdyYXBwZXIpO1xuICAgIHRoaXMub3duZXIgPSBuZXcgQ29udHJhY3RPd25lcih0aGlzLmNvbnRyYWN0V3JhcHBlcik7XG4gICAgdGhpcy5fdnJmID0gdGhpcy5kZXRlY3RWcmYoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG9uTmV0d29ya1VwZGF0ZWQobmV0d29yaykge1xuICAgIHRoaXMuY29udHJhY3RXcmFwcGVyLnVwZGF0ZVNpZ25lck9yUHJvdmlkZXIobmV0d29yayk7XG4gICAgdGhpcy5fdnJmPy5vbk5ldHdvcmtVcGRhdGVkKG5ldHdvcmspO1xuICB9XG4gIGdldEFkZHJlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udHJhY3RXcmFwcGVyLnJlYWRDb250cmFjdC5hZGRyZXNzO1xuICB9XG5cbiAgLyoqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKiBSRUFEIEZVTkNUSU9OU1xuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogR2V0IGEgc2luZ2xlIFBhY2tcbiAgICpcbiAgICogQHJlbWFya3MgR2V0IGFsbCB0aGUgZGF0YSBhc3NvY2lhdGVkIHdpdGggZXZlcnkgcGFjayBpbiB0aGlzIGNvbnRyYWN0LlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCByZXR1cm5zIHRoZSBmaXJzdCAxMDAgcGFja3MsIHVzZSBxdWVyeVBhcmFtcyB0byBmZXRjaCBtb3JlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IHBhY2sgPSBhd2FpdCBjb250cmFjdC5nZXQoMCk7XG4gICAqIGNvbnNvbGUubG9nKHBhY2tzO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGdldCh0b2tlbklkKSB7XG4gICAgcmV0dXJuIHRoaXMuZXJjMTE1NS5nZXQodG9rZW5JZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IEFsbCBQYWNrc1xuICAgKlxuICAgKiBAcmVtYXJrcyBHZXQgYWxsIHRoZSBkYXRhIGFzc29jaWF0ZWQgd2l0aCBldmVyeSBwYWNrIGluIHRoaXMgY29udHJhY3QuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHJldHVybnMgdGhlIGZpcnN0IDEwMCBwYWNrcywgdXNlIHF1ZXJ5UGFyYW1zIHRvIGZldGNoIG1vcmUuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3QgcGFja3MgPSBhd2FpdCBjb250cmFjdC5nZXRBbGwoKTtcbiAgICogY29uc29sZS5sb2cocGFja3M7XG4gICAqIGBgYFxuICAgKiBAcGFyYW0gcXVlcnlQYXJhbXMgLSBvcHRpb25hbCBmaWx0ZXJpbmcgdG8gb25seSBmZXRjaCBhIHN1YnNldCBvZiByZXN1bHRzLlxuICAgKiBAcmV0dXJucyBUaGUgcGFjayBtZXRhZGF0YSBmb3IgYWxsIHBhY2tzIHF1ZXJpZWQuXG4gICAqL1xuICBhc3luYyBnZXRBbGwocXVlcnlQYXJhbXMpIHtcbiAgICByZXR1cm4gdGhpcy5lcmMxMTU1LmdldEFsbChxdWVyeVBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IE93bmVkIFBhY2tzXG4gICAqXG4gICAqIEByZW1hcmtzIEdldCBhbGwgdGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBwYWNrcyBvd25lZCBieSBhIHNwZWNpZmljIHdhbGxldC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiAvLyBBZGRyZXNzIG9mIHRoZSB3YWxsZXQgdG8gZ2V0IHRoZSBwYWNrcyBvZlxuICAgKiBjb25zdCBhZGRyZXNzID0gXCJ7e3dhbGxldF9hZGRyZXNzfX1cIjtcbiAgICogY29uc3QgcGFja3NzID0gYXdhaXQgY29udHJhY3QuZ2V0T3duZWQoYWRkcmVzcyk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgcGFjayBtZXRhZGF0YSBmb3IgYWxsIHRoZSBvd25lZCBwYWNrcyBpbiB0aGUgY29udHJhY3QuXG4gICAqL1xuICBhc3luYyBnZXRPd25lZCh3YWxsZXRBZGRyZXNzKSB7XG4gICAgcmV0dXJuIHRoaXMuZXJjMTE1NS5nZXRPd25lZCh3YWxsZXRBZGRyZXNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG51bWJlciBvZiBwYWNrcyBjcmVhdGVkXG4gICAqIEByZXR1cm5zIHRoZSB0b3RhbCBudW1iZXIgb2YgcGFja3MgbWludGVkIGluIHRoaXMgY29udHJhY3RcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgYXN5bmMgZ2V0VG90YWxDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5lcmMxMTU1LnRvdGFsQ291bnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgd2hldGhlciB1c2VycyBjYW4gdHJhbnNmZXIgcGFja3MgZnJvbSB0aGlzIGNvbnRyYWN0XG4gICAqL1xuICBhc3luYyBpc1RyYW5zZmVyUmVzdHJpY3RlZCgpIHtcbiAgICBjb25zdCBhbnlvbmVDYW5UcmFuc2ZlciA9IGF3YWl0IHRoaXMuY29udHJhY3RXcmFwcGVyLnJlYWRDb250cmFjdC5oYXNSb2xlKGdldFJvbGVIYXNoKFwidHJhbnNmZXJcIiksIGV0aGVycy5jb25zdGFudHMuQWRkcmVzc1plcm8pO1xuICAgIHJldHVybiAhYW55b25lQ2FuVHJhbnNmZXI7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFBhY2sgQ29udGVudHNcbiAgICogQHJlbWFya3MgR2V0IHRoZSByZXdhcmRzIGNvbnRhaW5lZCBpbnNpZGUgYSBwYWNrLlxuICAgKlxuICAgKiBAcGFyYW0gcGFja0lkIC0gVGhlIGlkIG9mIHRoZSBwYWNrIHRvIGdldCB0aGUgY29udGVudHMgb2YuXG4gICAqIEByZXR1cm5zIC0gVGhlIGNvbnRlbnRzIG9mIHRoZSBwYWNrLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IHBhY2tJZCA9IDA7XG4gICAqIGNvbnN0IGNvbnRlbnRzID0gYXdhaXQgY29udHJhY3QuZ2V0UGFja0NvbnRlbnRzKHBhY2tJZCk7XG4gICAqIGNvbnNvbGUubG9nKGNvbnRlbnRzLmVyYzIwUmV3YXJkcyk7XG4gICAqIGNvbnNvbGUubG9nKGNvbnRlbnRzLmVyYzcyMVJld2FyZHMpO1xuICAgKiBjb25zb2xlLmxvZyhjb250ZW50cy5lcmMxMTU1UmV3YXJkcyk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgZ2V0UGFja0NvbnRlbnRzKHBhY2tJZCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbnRlbnRzLFxuICAgICAgcGVyVW5pdEFtb3VudHNcbiAgICB9ID0gYXdhaXQgdGhpcy5jb250cmFjdFdyYXBwZXIucmVhZENvbnRyYWN0LmdldFBhY2tDb250ZW50cyhwYWNrSWQpO1xuICAgIGNvbnN0IGVyYzIwUmV3YXJkcyA9IFtdO1xuICAgIGNvbnN0IGVyYzcyMVJld2FyZHMgPSBbXTtcbiAgICBjb25zdCBlcmMxMTU1UmV3YXJkcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJld2FyZCA9IGNvbnRlbnRzW2ldO1xuICAgICAgY29uc3QgYW1vdW50ID0gcGVyVW5pdEFtb3VudHNbaV07XG4gICAgICBzd2l0Y2ggKHJld2FyZC50b2tlblR5cGUpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuTWV0YWRhdGEgPSBhd2FpdCBmZXRjaEN1cnJlbmN5TWV0YWRhdGEodGhpcy5jb250cmFjdFdyYXBwZXIuZ2V0UHJvdmlkZXIoKSwgcmV3YXJkLmFzc2V0Q29udHJhY3QpO1xuICAgICAgICAgICAgY29uc3QgcmV3YXJkQW1vdW50ID0gZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKHJld2FyZC50b3RhbEFtb3VudCwgdG9rZW5NZXRhZGF0YS5kZWNpbWFscyk7XG4gICAgICAgICAgICBlcmMyMFJld2FyZHMucHVzaCh7XG4gICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogcmV3YXJkLmFzc2V0Q29udHJhY3QsXG4gICAgICAgICAgICAgIHF1YW50aXR5UGVyUmV3YXJkOiBhbW91bnQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgdG90YWxSZXdhcmRzOiBCaWdOdW1iZXIuZnJvbShyZXdhcmRBbW91bnQpLmRpdihhbW91bnQpLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJjNzIxUmV3YXJkcy5wdXNoKHtcbiAgICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiByZXdhcmQuYXNzZXRDb250cmFjdCxcbiAgICAgICAgICAgICAgdG9rZW5JZDogcmV3YXJkLnRva2VuSWQudG9TdHJpbmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcmMxMTU1UmV3YXJkcy5wdXNoKHtcbiAgICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiByZXdhcmQuYXNzZXRDb250cmFjdCxcbiAgICAgICAgICAgICAgdG9rZW5JZDogcmV3YXJkLnRva2VuSWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgcXVhbnRpdHlQZXJSZXdhcmQ6IGFtb3VudC50b1N0cmluZygpLFxuICAgICAgICAgICAgICB0b3RhbFJld2FyZHM6IEJpZ051bWJlci5mcm9tKHJld2FyZC50b3RhbEFtb3VudCkuZGl2KGFtb3VudCkudG9TdHJpbmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBlcmMyMFJld2FyZHMsXG4gICAgICBlcmM3MjFSZXdhcmRzLFxuICAgICAgZXJjMTE1NVJld2FyZHNcbiAgICB9O1xuICB9XG5cbiAgLyoqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKiBXUklURSBGVU5DVElPTlNcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBQYWNrXG4gICAqIEByZW1hcmtzIENyZWF0ZSBhIG5ldyBwYWNrIHdpdGggdGhlIGdpdmVuIG1ldGFkYXRhIGFuZCByZXdhcmRzIGFuZCBtaW50IGl0IHRvIHRoZSBjb25uZWN0ZWQgd2FsbGV0LlxuICAgKiBAcmVtYXJrcyBTZWUge0BsaW5rIFBhY2suY3JlYXRlVG99XG4gICAqXG4gICAqIEBwYXJhbSBtZXRhZGF0YVdpdGhSZXdhcmRzIC0gdGhlIG1ldGFkYXRhIGFuZCByZXdhcmRzIHRvIGluY2x1ZGUgaW4gdGhlIHBhY2tcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCBwYWNrID0ge1xuICAgKiAgIC8vIFRoZSBtZXRhZGF0YSBmb3IgdGhlIHBhY2sgTkZUIGl0c2VsZlxuICAgKiAgIHBhY2tNZXRhZGF0YToge1xuICAgKiAgICAgbmFtZTogXCJNeSBQYWNrXCIsXG4gICAqICAgICBkZXNjcmlwdGlvbjogXCJUaGlzIGlzIGEgbmV3IHBhY2tcIixcbiAgICogICAgIGltYWdlOiBcImlwZnM6Ly8uLi5cIixcbiAgICogICB9LFxuICAgKiAgIC8vIEVSQzIwIHJld2FyZHMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHBhY2tcbiAgICogICBlcmMyMFJld2FyZHM6IFtcbiAgICogICAgIHtcbiAgICogICAgICAgYXNzZXRDb250cmFjdDogXCIweC4uLlwiLFxuICAgKiAgICAgICBxdWFudGl0eVBlclJld2FyZDogNSxcbiAgICogICAgICAgcXVhbnRpdHk6IDEwMCxcbiAgICogICAgICAgdG90YWxSZXdhcmRzOiAyMCxcbiAgICogICAgIH1cbiAgICogICBdLFxuICAgKiAgIC8vIEVSQzcyMSByZXdhcmRzIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBwYWNrXG4gICAqICAgZXJjNzIxUmV3YXJkczogW1xuICAgKiAgICAge1xuICAgKiAgICAgICBhc3NldENvbnRyYWN0OiBcIjB4Li4uXCIsXG4gICAqICAgICAgIHRva2VuSWQ6IDAsXG4gICAqICAgICB9XG4gICAqICAgXSxcbiAgICogICAvLyBFUkMxMTU1IHJld2FyZHMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHBhY2tcbiAgICogICBlcmMxMTU1UmV3YXJkczogW1xuICAgKiAgICAge1xuICAgKiAgICAgICBhc3NldENvbnRyYWN0OiBcIjB4Li4uXCIsXG4gICAqICAgICAgIHRva2VuSWQ6IDAsXG4gICAqICAgICAgIHF1YW50aXR5UGVyUmV3YXJkOiAxLFxuICAgKiAgICAgICB0b3RhbFJld2FyZHM6IDEwMCxcbiAgICogICAgIH1cbiAgICogICBdLFxuICAgKiAgIG9wZW5TdGFydFRpbWU6IG5ldyBEYXRlKCksIC8vIHRoZSBkYXRlIHRoYXQgcGFja3MgY2FuIHN0YXJ0IHRvIGJlIG9wZW5lZCwgZGVmYXVsdHMgdG8gbm93XG4gICAqICAgcmV3YXJkc1BlclBhY2s6IDEsIC8vIHRoZSBudW1iZXIgb2YgcmV3YXJkcyBpbiBlYWNoIHBhY2ssIGRlZmF1bHRzIHRvIDFcbiAgICogfVxuICAgKlxuICAgKiBjb25zdCB0eCA9IGF3YWl0IGNvbnRyYWN0LmNyZWF0ZShwYWNrKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBjcmVhdGUobWV0YWRhdGFXaXRoUmV3YXJkcykge1xuICAgIGNvbnN0IHNpZ25lckFkZHJlc3MgPSBhd2FpdCB0aGlzLmNvbnRyYWN0V3JhcHBlci5nZXRTaWduZXJBZGRyZXNzKCk7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlVG8oc2lnbmVyQWRkcmVzcywgbWV0YWRhdGFXaXRoUmV3YXJkcyk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIFBhY2sgQ29udGVudHNcbiAgICogQHJlbWFya3MgQWRkIGNvbnRlbnRzIHRvIGFuIGV4aXN0aW5nIHBhY2suXG4gICAqIEByZW1hcmtzIFNlZSB7QGxpbmsgUGFjay5hZGRQYWNrQ29udGVudHN9XG4gICAqXG4gICAqIEBwYXJhbSBwYWNrSWQgLSB0b2tlbiBJZCBvZiB0aGUgcGFjayB0byBhZGQgY29udGVudHMgdG9cbiAgICogQHBhcmFtIHBhY2tDb250ZW50cyAtIHRoZSByZXdhcmRzIHRvIGluY2x1ZGUgaW4gdGhlIHBhY2tcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCBwYWNrQ29udGVudHMgPSB7XG4gICAqICAgLy8gRVJDMjAgcmV3YXJkcyB0byBiZSBpbmNsdWRlZCBpbiB0aGUgcGFja1xuICAgKiAgIGVyYzIwUmV3YXJkczogW1xuICAgKiAgICAge1xuICAgKiAgICAgICBhc3NldENvbnRyYWN0OiBcIjB4Li4uXCIsXG4gICAqICAgICAgIHF1YW50aXR5UGVyUmV3YXJkOiA1LFxuICAgKiAgICAgICBxdWFudGl0eTogMTAwLFxuICAgKiAgICAgICB0b3RhbFJld2FyZHM6IDIwLFxuICAgKiAgICAgfVxuICAgKiAgIF0sXG4gICAqICAgLy8gRVJDNzIxIHJld2FyZHMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHBhY2tcbiAgICogICBlcmM3MjFSZXdhcmRzOiBbXG4gICAqICAgICB7XG4gICAqICAgICAgIGFzc2V0Q29udHJhY3Q6IFwiMHguLi5cIixcbiAgICogICAgICAgdG9rZW5JZDogMCxcbiAgICogICAgIH1cbiAgICogICBdLFxuICAgKiAgIC8vIEVSQzExNTUgcmV3YXJkcyB0byBiZSBpbmNsdWRlZCBpbiB0aGUgcGFja1xuICAgKiAgIGVyYzExNTVSZXdhcmRzOiBbXG4gICAqICAgICB7XG4gICAqICAgICAgIGFzc2V0Q29udHJhY3Q6IFwiMHguLi5cIixcbiAgICogICAgICAgdG9rZW5JZDogMCxcbiAgICogICAgICAgcXVhbnRpdHlQZXJSZXdhcmQ6IDEsXG4gICAqICAgICAgIHRvdGFsUmV3YXJkczogMTAwLFxuICAgKiAgICAgfVxuICAgKiAgIF0sXG4gICAqIH1cbiAgICpcbiAgICogY29uc3QgdHggPSBhd2FpdCBjb250cmFjdC5hZGRQYWNrQ29udGVudHMocGFja0lkLCBwYWNrQ29udGVudHMpO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGFkZFBhY2tDb250ZW50cyhwYWNrSWQsIHBhY2tDb250ZW50cykge1xuICAgIGNvbnN0IHNpZ25lckFkZHJlc3MgPSBhd2FpdCB0aGlzLmNvbnRyYWN0V3JhcHBlci5nZXRTaWduZXJBZGRyZXNzKCk7XG4gICAgY29uc3QgcGFyc2VkQ29udGVudHMgPSBQYWNrUmV3YXJkc091dHB1dFNjaGVtYS5wYXJzZShwYWNrQ29udGVudHMpO1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbnRlbnRzLFxuICAgICAgbnVtT2ZSZXdhcmRVbml0c1xuICAgIH0gPSBhd2FpdCB0aGlzLnRvUGFja0NvbnRlbnRBcmdzKHBhcnNlZENvbnRlbnRzKTtcbiAgICBjb25zdCByZWNlaXB0ID0gYXdhaXQgdGhpcy5jb250cmFjdFdyYXBwZXIuc2VuZFRyYW5zYWN0aW9uKFwiYWRkUGFja0NvbnRlbnRzXCIsIFtwYWNrSWQsIGNvbnRlbnRzLCBudW1PZlJld2FyZFVuaXRzLCBzaWduZXJBZGRyZXNzXSk7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmNvbnRyYWN0V3JhcHBlci5wYXJzZUxvZ3MoXCJQYWNrVXBkYXRlZFwiLCByZWNlaXB0Py5sb2dzKTtcbiAgICBpZiAoZXZlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYWNrVXBkYXRlZCBldmVudCBub3QgZm91bmRcIik7XG4gICAgfVxuICAgIGNvbnN0IGlkID0gZXZlbnRbMF0uYXJncy5wYWNrSWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIHJlY2VpcHQsXG4gICAgICBkYXRhOiAoKSA9PiB0aGlzLmVyYzExNTUuZ2V0KGlkKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIFBhY2sgVG8gV2FsbGV0XG4gICAqIEByZW1hcmtzIENyZWF0ZSBhIG5ldyBwYWNrIHdpdGggdGhlIGdpdmVuIG1ldGFkYXRhIGFuZCByZXdhcmRzIGFuZCBtaW50IGl0IHRvIHRoZSBzcGVjaWZpZWQgYWRkcmVzcy5cbiAgICpcbiAgICogQHBhcmFtIHRvIC0gdGhlIGFkZHJlc3MgdG8gbWludCB0aGUgcGFjayB0b1xuICAgKiBAcGFyYW0gbWV0YWRhdGFXaXRoUmV3YXJkcyAtIHRoZSBtZXRhZGF0YSBhbmQgcmV3YXJkcyB0byBpbmNsdWRlIGluIHRoZSBwYWNrXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3QgcGFjayA9IHtcbiAgICogICAvLyBUaGUgbWV0YWRhdGEgZm9yIHRoZSBwYWNrIE5GVCBpdHNlbGZcbiAgICogICBwYWNrTWV0YWRhdGE6IHtcbiAgICogICAgIG5hbWU6IFwiTXkgUGFja1wiLFxuICAgKiAgICAgZGVzY3JpcHRpb246IFwiVGhpcyBpcyBhIG5ldyBwYWNrXCIsXG4gICAqICAgICBpbWFnZTogXCJpcGZzOi8vLi4uXCIsXG4gICAqICAgfSxcbiAgICogICAvLyBFUkMyMCByZXdhcmRzIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBwYWNrXG4gICAqICAgZXJjMjBSZXdhcmRzOiBbXG4gICAqICAgICB7XG4gICAqICAgICAgIGFzc2V0Q29udHJhY3Q6IFwiMHguLi5cIixcbiAgICogICAgICAgcXVhbnRpdHlQZXJSZXdhcmQ6IDUsXG4gICAqICAgICAgIHF1YW50aXR5OiAxMDAsXG4gICAqICAgICAgIHRvdGFsUmV3YXJkczogMjAsXG4gICAqICAgICB9XG4gICAqICAgXSxcbiAgICogICAvLyBFUkM3MjEgcmV3YXJkcyB0byBiZSBpbmNsdWRlZCBpbiB0aGUgcGFja1xuICAgKiAgIGVyYzcyMVJld2FyZHM6IFtcbiAgICogICAgIHtcbiAgICogICAgICAgYXNzZXRDb250cmFjdDogXCIweC4uLlwiLFxuICAgKiAgICAgICB0b2tlbklkOiAwLFxuICAgKiAgICAgfVxuICAgKiAgIF0sXG4gICAqICAgLy8gRVJDMTE1NSByZXdhcmRzIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBwYWNrXG4gICAqICAgZXJjMTE1NVJld2FyZHM6IFtcbiAgICogICAgIHtcbiAgICogICAgICAgYXNzZXRDb250cmFjdDogXCIweC4uLlwiLFxuICAgKiAgICAgICB0b2tlbklkOiAwLFxuICAgKiAgICAgICBxdWFudGl0eVBlclJld2FyZDogMSxcbiAgICogICAgICAgdG90YWxSZXdhcmRzOiAxMDAsXG4gICAqICAgICB9XG4gICAqICAgXSxcbiAgICogICBvcGVuU3RhcnRUaW1lOiBuZXcgRGF0ZSgpLCAvLyB0aGUgZGF0ZSB0aGF0IHBhY2tzIGNhbiBzdGFydCB0byBiZSBvcGVuZWQsIGRlZmF1bHRzIHRvIG5vd1xuICAgKiAgIHJld2FyZHNQZXJQYWNrOiAxLCAvLyB0aGUgbnVtYmVyIG9mIHJld2FyZHMgaW4gZWFjaCBwYWNrLCBkZWZhdWx0cyB0byAxXG4gICAqIH1cbiAgICpcbiAgICogY29uc3QgdHggPSBhd2FpdCBjb250cmFjdC5jcmVhdGVUbyhcIjB4Li4uXCIsIHBhY2spO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVRvKHRvLCBtZXRhZGF0YVdpdGhSZXdhcmRzKSB7XG4gICAgY29uc3QgdXJpID0gYXdhaXQgdXBsb2FkT3JFeHRyYWN0VVJJKG1ldGFkYXRhV2l0aFJld2FyZHMucGFja01ldGFkYXRhLCB0aGlzLnN0b3JhZ2UpO1xuICAgIGNvbnN0IHBhcnNlZE1ldGFkYXRhID0gUGFja01ldGFkYXRhSW5wdXRTY2hlbWEucGFyc2UobWV0YWRhdGFXaXRoUmV3YXJkcyk7XG4gICAgY29uc3Qge1xuICAgICAgZXJjMjBSZXdhcmRzLFxuICAgICAgZXJjNzIxUmV3YXJkcyxcbiAgICAgIGVyYzExNTVSZXdhcmRzXG4gICAgfSA9IHBhcnNlZE1ldGFkYXRhO1xuICAgIGNvbnN0IHJld2FyZHNEYXRhID0ge1xuICAgICAgZXJjMjBSZXdhcmRzLFxuICAgICAgZXJjNzIxUmV3YXJkcyxcbiAgICAgIGVyYzExNTVSZXdhcmRzXG4gICAgfTtcbiAgICBjb25zdCB7XG4gICAgICBjb250ZW50cyxcbiAgICAgIG51bU9mUmV3YXJkVW5pdHNcbiAgICB9ID0gYXdhaXQgdGhpcy50b1BhY2tDb250ZW50QXJncyhyZXdhcmRzRGF0YSk7XG4gICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHRoaXMuY29udHJhY3RXcmFwcGVyLnNlbmRUcmFuc2FjdGlvbihcImNyZWF0ZVBhY2tcIiwgW2NvbnRlbnRzLCBudW1PZlJld2FyZFVuaXRzLCB1cmksIHBhcnNlZE1ldGFkYXRhLm9wZW5TdGFydFRpbWUsIHBhcnNlZE1ldGFkYXRhLnJld2FyZHNQZXJQYWNrLCB0b10pO1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5jb250cmFjdFdyYXBwZXIucGFyc2VMb2dzKFwiUGFja0NyZWF0ZWRcIiwgcmVjZWlwdD8ubG9ncyk7XG4gICAgaWYgKGV2ZW50Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFja0NyZWF0ZWQgZXZlbnQgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBjb25zdCBwYWNrSWQgPSBldmVudFswXS5hcmdzLnBhY2tJZDtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBhY2tJZCxcbiAgICAgIHJlY2VpcHQsXG4gICAgICBkYXRhOiAoKSA9PiB0aGlzLmVyYzExNTUuZ2V0KHBhY2tJZClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gUGFja1xuICAgKlxuICAgKiBAcmVtYXJrcyAtIE9wZW4gYSBwYWNrIHRvIHJldmVhbCB0aGUgY29udGFpbmVkIHJld2FyZHMuIFRoaXMgd2lsbCBidXJuIHRoZSBzcGVjaWZpZWQgcGFjayBhbmRcbiAgICogdGhlIGNvbnRhaW5lZCBhc3NldHMgd2lsbCBiZSB0cmFuc2ZlcnJlZCB0byB0aGUgb3BlbmluZyB1c2VycyB3YWxsZXQuXG4gICAqXG4gICAqIEBwYXJhbSB0b2tlbklkIC0gdGhlIHRva2VuIElEIG9mIHRoZSBwYWNrIHlvdSB3YW50IHRvIG9wZW5cbiAgICogQHBhcmFtIGFtb3VudCAtIHRoZSBhbW91bnQgb2YgcGFja3MgeW91IHdhbnQgdG8gb3BlblxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IHRva2VuSWQgPSAwXG4gICAqIGNvbnN0IGFtb3VudCA9IDFcbiAgICogY29uc3QgdHggPSBhd2FpdCBjb250cmFjdC5vcGVuKHRva2VuSWQsIGFtb3VudCk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgb3Blbih0b2tlbklkKSB7XG4gICAgbGV0IGFtb3VudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTtcbiAgICBpZiAodGhpcy5fdnJmKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGNvbnRyYWN0IGlzIHVzaW5nIENoYWlubGluayBWUkYsIHVzZSBgY29udHJhY3QudnJmLm9wZW4oKWAgb3IgYGNvbnRyYWN0LnZyZi5vcGVuQW5kQ2xhaW0oKWAgaW5zdGVhZFwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHRoaXMuY29udHJhY3RXcmFwcGVyLnNlbmRUcmFuc2FjdGlvbihcIm9wZW5QYWNrXCIsIFt0b2tlbklkLCBhbW91bnRdLCB7XG4gICAgICAvLyBIaWdoZXIgZ2FzIGxpbWl0IGZvciBvcGVuaW5nIHBhY2tzXG4gICAgICBnYXNMaW1pdDogNTAwMDAwXG4gICAgfSk7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmNvbnRyYWN0V3JhcHBlci5wYXJzZUxvZ3MoXCJQYWNrT3BlbmVkXCIsIHJlY2VpcHQ/LmxvZ3MpO1xuICAgIGlmIChldmVudC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhY2tPcGVuZWQgZXZlbnQgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXdhcmRzID0gZXZlbnRbMF0uYXJncy5yZXdhcmRVbml0c0Rpc3RyaWJ1dGVkO1xuICAgIGNvbnN0IGVyYzIwUmV3YXJkcyA9IFtdO1xuICAgIGNvbnN0IGVyYzcyMVJld2FyZHMgPSBbXTtcbiAgICBjb25zdCBlcmMxMTU1UmV3YXJkcyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmV3YXJkIG9mIHJld2FyZHMpIHtcbiAgICAgIHN3aXRjaCAocmV3YXJkLnRva2VuVHlwZSkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdG9rZW5NZXRhZGF0YSA9IGF3YWl0IGZldGNoQ3VycmVuY3lNZXRhZGF0YSh0aGlzLmNvbnRyYWN0V3JhcHBlci5nZXRQcm92aWRlcigpLCByZXdhcmQuYXNzZXRDb250cmFjdCk7XG4gICAgICAgICAgICBlcmMyMFJld2FyZHMucHVzaCh7XG4gICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogcmV3YXJkLmFzc2V0Q29udHJhY3QsXG4gICAgICAgICAgICAgIHF1YW50aXR5UGVyUmV3YXJkOiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHMocmV3YXJkLnRvdGFsQW1vdW50LCB0b2tlbk1ldGFkYXRhLmRlY2ltYWxzKS50b1N0cmluZygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVyYzcyMVJld2FyZHMucHVzaCh7XG4gICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogcmV3YXJkLmFzc2V0Q29udHJhY3QsXG4gICAgICAgICAgICAgIHRva2VuSWQ6IHJld2FyZC50b2tlbklkLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJjMTE1NVJld2FyZHMucHVzaCh7XG4gICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogcmV3YXJkLmFzc2V0Q29udHJhY3QsXG4gICAgICAgICAgICAgIHRva2VuSWQ6IHJld2FyZC50b2tlbklkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHF1YW50aXR5UGVyUmV3YXJkOiByZXdhcmQudG90YWxBbW91bnQudG9TdHJpbmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBlcmMyMFJld2FyZHMsXG4gICAgICBlcmM3MjFSZXdhcmRzLFxuICAgICAgZXJjMTE1NVJld2FyZHNcbiAgICB9O1xuICB9XG5cbiAgLyoqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqIFBSSVZBVEUgRlVOQ1RJT05TXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIGFzeW5jIHRvUGFja0NvbnRlbnRBcmdzKG1ldGFkYXRhV2l0aFJld2FyZHMpIHtcbiAgICBjb25zdCBjb250ZW50cyA9IFtdO1xuICAgIGNvbnN0IG51bU9mUmV3YXJkVW5pdHMgPSBbXTtcbiAgICBjb25zdCB7XG4gICAgICBlcmMyMFJld2FyZHMsXG4gICAgICBlcmM3MjFSZXdhcmRzLFxuICAgICAgZXJjMTE1NVJld2FyZHNcbiAgICB9ID0gbWV0YWRhdGFXaXRoUmV3YXJkcztcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuY29udHJhY3RXcmFwcGVyLmdldFByb3ZpZGVyKCk7XG4gICAgY29uc3Qgb3duZXIgPSBhd2FpdCB0aGlzLmNvbnRyYWN0V3JhcHBlci5nZXRTaWduZXJBZGRyZXNzKCk7XG4gICAgZm9yIChjb25zdCBlcmMyMCBvZiBlcmMyMFJld2FyZHMpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRRdWFudGl0eSA9IGF3YWl0IG5vcm1hbGl6ZVByaWNlVmFsdWUocHJvdmlkZXIsIGVyYzIwLnF1YW50aXR5UGVyUmV3YXJkLCBlcmMyMC5jb250cmFjdEFkZHJlc3MpO1xuICAgICAgLy8gTXVsdGlwbHkgdGhlIHF1YW50aXR5IG9mIG9uZSByZXdhcmQgYnkgdGhlIG51bWJlciBvZiByZXdhcmRzXG4gICAgICBjb25zdCB0b3RhbFF1YW50aXR5ID0gbm9ybWFsaXplZFF1YW50aXR5Lm11bChlcmMyMC50b3RhbFJld2FyZHMpO1xuICAgICAgY29uc3QgaGFzQWxsb3dhbmNlID0gYXdhaXQgaGFzRVJDMjBBbGxvd2FuY2UodGhpcy5jb250cmFjdFdyYXBwZXIsIGVyYzIwLmNvbnRyYWN0QWRkcmVzcywgdG90YWxRdWFudGl0eSk7XG4gICAgICBpZiAoIWhhc0FsbG93YW5jZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVSQzIwIHRva2VuIHdpdGggY29udHJhY3QgYWRkcmVzcyBcIiR7ZXJjMjAuY29udHJhY3RBZGRyZXNzfVwiIGRvZXMgbm90IGhhdmUgZW5vdWdoIGFsbG93YW5jZSB0byB0cmFuc2Zlci5cXG5cXG5Zb3UgY2FuIHNldCBhbGxvd2FuY2UgdG8gdGhlIG11bHRpd3JhcCBjb250cmFjdCB0byB0cmFuc2ZlciB0aGVzZSB0b2tlbnMgYnkgcnVubmluZzpcXG5cXG5hd2FpdCBzZGsuZ2V0VG9rZW4oXCIke2VyYzIwLmNvbnRyYWN0QWRkcmVzc31cIikuc2V0QWxsb3dhbmNlKFwiJHt0aGlzLmdldEFkZHJlc3MoKX1cIiwgJHt0b3RhbFF1YW50aXR5fSk7XFxuXFxuYCk7XG4gICAgICB9XG4gICAgICBudW1PZlJld2FyZFVuaXRzLnB1c2goZXJjMjAudG90YWxSZXdhcmRzKTtcbiAgICAgIGNvbnRlbnRzLnB1c2goe1xuICAgICAgICBhc3NldENvbnRyYWN0OiBlcmMyMC5jb250cmFjdEFkZHJlc3MsXG4gICAgICAgIHRva2VuVHlwZTogMCxcbiAgICAgICAgdG90YWxBbW91bnQ6IHRvdGFsUXVhbnRpdHksXG4gICAgICAgIHRva2VuSWQ6IDBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGVyYzcyMSBvZiBlcmM3MjFSZXdhcmRzKSB7XG4gICAgICBjb25zdCBpc0FwcHJvdmVkID0gYXdhaXQgaXNUb2tlbkFwcHJvdmVkRm9yVHJhbnNmZXIodGhpcy5jb250cmFjdFdyYXBwZXIuZ2V0UHJvdmlkZXIoKSwgdGhpcy5nZXRBZGRyZXNzKCksIGVyYzcyMS5jb250cmFjdEFkZHJlc3MsIGVyYzcyMS50b2tlbklkLCBvd25lcik7XG4gICAgICBpZiAoIWlzQXBwcm92ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFUkM3MjEgdG9rZW4gXCIke2VyYzcyMS50b2tlbklkfVwiIHdpdGggY29udHJhY3QgYWRkcmVzcyBcIiR7ZXJjNzIxLmNvbnRyYWN0QWRkcmVzc31cIiBpcyBub3QgYXBwcm92ZWQgZm9yIHRyYW5zZmVyLlxcblxcbllvdSBjYW4gZ2l2ZSBhcHByb3ZhbCB0aGUgbXVsdGl3cmFwIGNvbnRyYWN0IHRvIHRyYW5zZmVyIHRoaXMgdG9rZW4gYnkgcnVubmluZzpcXG5cXG5hd2FpdCBzZGsuZ2V0TkZUQ29sbGVjdGlvbihcIiR7ZXJjNzIxLmNvbnRyYWN0QWRkcmVzc31cIikuc2V0QXBwcm92YWxGb3JUb2tlbihcIiR7dGhpcy5nZXRBZGRyZXNzKCl9XCIsICR7ZXJjNzIxLnRva2VuSWR9KTtcXG5cXG5gKTtcbiAgICAgIH1cbiAgICAgIG51bU9mUmV3YXJkVW5pdHMucHVzaChcIjFcIik7XG4gICAgICBjb250ZW50cy5wdXNoKHtcbiAgICAgICAgYXNzZXRDb250cmFjdDogZXJjNzIxLmNvbnRyYWN0QWRkcmVzcyxcbiAgICAgICAgdG9rZW5UeXBlOiAxLFxuICAgICAgICB0b3RhbEFtb3VudDogMSxcbiAgICAgICAgdG9rZW5JZDogZXJjNzIxLnRva2VuSWRcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGVyYzExNTUgb2YgZXJjMTE1NVJld2FyZHMpIHtcbiAgICAgIGNvbnN0IGlzQXBwcm92ZWQgPSBhd2FpdCBpc1Rva2VuQXBwcm92ZWRGb3JUcmFuc2Zlcih0aGlzLmNvbnRyYWN0V3JhcHBlci5nZXRQcm92aWRlcigpLCB0aGlzLmdldEFkZHJlc3MoKSwgZXJjMTE1NS5jb250cmFjdEFkZHJlc3MsIGVyYzExNTUudG9rZW5JZCwgb3duZXIpO1xuICAgICAgaWYgKCFpc0FwcHJvdmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRVJDMTE1NSB0b2tlbiBcIiR7ZXJjMTE1NS50b2tlbklkfVwiIHdpdGggY29udHJhY3QgYWRkcmVzcyBcIiR7ZXJjMTE1NS5jb250cmFjdEFkZHJlc3N9XCIgaXMgbm90IGFwcHJvdmVkIGZvciB0cmFuc2Zlci5cXG5cXG5Zb3UgY2FuIGdpdmUgYXBwcm92YWwgdGhlIG11bHRpd3JhcCBjb250cmFjdCB0byB0cmFuc2ZlciB0aGlzIHRva2VuIGJ5IHJ1bm5pbmc6XFxuXFxuYXdhaXQgc2RrLmdldEVkaXRpb24oXCIke2VyYzExNTUuY29udHJhY3RBZGRyZXNzfVwiKS5zZXRBcHByb3ZhbEZvckFsbChcIiR7dGhpcy5nZXRBZGRyZXNzKCl9XCIsIHRydWUpO1xcblxcbmApO1xuICAgICAgfVxuICAgICAgbnVtT2ZSZXdhcmRVbml0cy5wdXNoKGVyYzExNTUudG90YWxSZXdhcmRzKTtcbiAgICAgIGNvbnRlbnRzLnB1c2goe1xuICAgICAgICBhc3NldENvbnRyYWN0OiBlcmMxMTU1LmNvbnRyYWN0QWRkcmVzcyxcbiAgICAgICAgdG9rZW5UeXBlOiAyLFxuICAgICAgICB0b3RhbEFtb3VudDogQmlnTnVtYmVyLmZyb20oZXJjMTE1NS5xdWFudGl0eVBlclJld2FyZCkubXVsKEJpZ051bWJlci5mcm9tKGVyYzExNTUudG90YWxSZXdhcmRzKSksXG4gICAgICAgIHRva2VuSWQ6IGVyYzExNTUudG9rZW5JZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBjb250ZW50cyxcbiAgICAgIG51bU9mUmV3YXJkVW5pdHNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgYXN5bmMgY2FsbChmdW5jdGlvbk5hbWUpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29udHJhY3RXcmFwcGVyLmNhbGwoZnVuY3Rpb25OYW1lLCAuLi5hcmdzKTtcbiAgfVxuICBkZXRlY3RWcmYoKSB7XG4gICAgaWYgKGRldGVjdENvbnRyYWN0RmVhdHVyZSh0aGlzLmNvbnRyYWN0V3JhcHBlciwgXCJQYWNrVlJGXCIpKSB7XG4gICAgICByZXR1cm4gbmV3IFBhY2tWUkYodGhpcy5jb250cmFjdFdyYXBwZXIuZ2V0U2lnbmVyT3JQcm92aWRlcigpLCB0aGlzLmNvbnRyYWN0V3JhcHBlci5yZWFkQ29udHJhY3QuYWRkcmVzcywgdGhpcy5zdG9yYWdlLCB0aGlzLmNvbnRyYWN0V3JhcHBlci5vcHRpb25zLCB0aGlzLmNoYWluSWQpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5fZGVmaW5lUHJvcGVydHkoUGFjaywgXCJjb250cmFjdFJvbGVzXCIsIFtcImFkbWluXCIsIFwibWludGVyXCIsIFwiYXNzZXRcIiwgXCJ0cmFuc2ZlclwiXSk7XG5cbmV4cG9ydCB7IFBhY2sgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/sdk/dist/pack-26095b44.esm.js\n"));

/***/ }),

/***/ "./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/ERC20.json":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/sdk/node_modules/@thirdweb-dev/contracts-js/dist/abis/ERC20.json ***!
  \*****************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]');

/***/ })

}]);